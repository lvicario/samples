function createCookie(name,value,days){if(days){var date=new Date;date.setTime(date.getTime()+24*days*60*60*1e3);var expires="; expires="+date.toGMTString()}else var expires="";document.cookie=name+"="+value+expires+"; path=/"}function getCookie(Name){var search=Name+"=";if(document.cookie.length>0){var offset=document.cookie.indexOf(search);if(-1!=offset){offset+=search.length;var end=document.cookie.indexOf(";",offset);return-1==end&&(end=document.cookie.length),unescape(document.cookie.substring(offset,end))}}}function eraseCookie(name){var date=new Date(1e3),expire=date.toGMTString();document.cookie=name+"=; expires="+expire+";"}function fncOnloadDisplayNone(target){jQuery(target).hide()}function fncDisplaytoggle(theid){var id="#"+theid;$(id).toggle()}function fncDisplaytoggleSlide(theid){var id="#"+theid;$(id).slideToggle()}!function($){Drupal.behaviors.matterhornWebform={attach:function(){if($(".node.reset-form form.webform-client-form").length>0){var form=$(".node.reset-form form.webform-client-form");form[0].reset()}}},$.fn.mScrollTo=function(settings){return settings=jQuery.extend({speed:1100},settings),this.each(function(){var caller=this;$(caller).click(function(event){event.preventDefault();var elementClick=(window.location.href,$(caller).attr("href")),destination=$(elementClick).offset().top;return $("html:not(:animated),body:not(:animated)").animate({scrollTop:destination},settings.speed,function(){window.location.hash=elementClick}),!1})})},Drupal.mAccordion=function(trigger,container,settings){var options=$.extend({active:[0],closeOpen:!1},settings);$(container).hide();for(var i in options.active)$($(trigger)[i]).addClass("active").next().show();$(trigger).click(function(){return options.closeOpen?$(this).toggleClass("active").next().slideToggle():$(this).next().is(":hidden")&&($(trigger).removeClass("active").next().slideUp(),$(this).toggleClass("active").next().slideDown()),!1})},Drupal.mTabs=function(trigger,container,settings){var options=$.extend({active:0,effect:!1,autoScroll:!1,timeout:4e3,direction:"ltr"},settings),$triggerElem=$(trigger).find("a")||$(trigger),$containerElem=$(container);$containerElem.hide(),$($triggerElem[options.active]).addClass("selected").show().parent("li").addClass("active-trail"),$($containerElem[options.active]).show(),$triggerElem.click(function(){$containerElem.hide(),$triggerElem.removeClass("selected").parent("li").removeClass("active-trail"),$(this).toggleClass("selected").parent("li").toggleClass("active-trail");var activeTab=$(this).attr("href");return options.effect?$(activeTab).fadeIn():$(activeTab).show(),!1}),options.autoScroll&&setInterval(function(){var $scrollTrigger,ltr="ltr"==options.direction?!0:!1;$scrollTrigger=ltr?$(trigger).find("a.selected").closest(".active-trail").next().find("a"):$(trigger).find("a.selected").closest(".active-trail").prev().find("a"),$scrollTrigger.length?$scrollTrigger.click():ltr?$triggerElem.first().click():$triggerElem.last().click()},options.timeout)},Drupal.behaviors.matterhornPopupWindow={attach:function(context,settings){var specs=[],ctr=0;for(var spec in settings.matterhorn.popup_window.specs)specs[ctr]=spec+"="+settings.matterhorn.popup_window.specs[spec],ctr++;$(settings.matterhorn.popup_window.selector).click(function(){var href=$(this).attr("href")||"#",newwindow=window.open(href,"matterhornWindow",specs.join(","));return window.focus&&newwindow.focus(),!1}),$("ul.menu a,ul.socials a").each(function(){var target=$(this).attr("target");"popup"==target&&$(this).addClass("menu-target-popup-window")}),$("ul.menu a.menu-target-popup-window, ul.socials a.menu-target-popup-window").click(function(e){e.preventDefault(),newwindow=window.open($(this).attr("href"),"_blank","height=810,width=1020,scrollbars=1,toolbar=0,menubar=0,location=0,resizable=1,status=1"),newwindow.focus()})}},Drupal.behaviors.matterhornVideoPlayer={attach:function(context,settings){$(settings.matterhorn.video_player.selector).click(function(e){if(e.preventDefault(),"function"==typeof $.fancybox){var style=["display: block","width: "+settings.matterhorn.video_player.width,"height:"+settings.matterhorn.video_player.height],content='<a id="flowplayer" href="'+$(this).attr("href")+'" style="'+style.join(";")+'"></a>';$.fancybox(content,{scrolling:!1}),flowplayer("flowplayer",settings.matterhorn.video_player.swf,settings.matterhorn.video_player.configuration)}else alert(Drupal.t("Fancy box not loaded"))})}},Drupal.behaviors.matterhornSlider={attach:function(context,settings){if(settings.matterhorn.slider.status){var $slider=$(settings.matterhorn.slider.selector),nav_id="slider-nav";settings.matterhorn.slider.options.pager&&$slider.after('<div id="'+nav_id+'"></div>'),$slider.children().length>1&&$slider.cycle(settings.matterhorn.slider.options),$(window).load(function(){var height;height="auto"==settings.matterhorn.slider.options.height?$slider.find("img").slice(0).height():settings.matterhorn.slider.options.height,$slider.css("height",height)})}}},Drupal.behaviors.matterhornBxSlider={attach:function(context,settings){if(settings.matterhorn.bxSlider.status){var $bxSlider=$(settings.matterhorn.bxSlider.group),selector=[],bxslider_instance=[],carouselPager=[],pagerInstance=[];for(var obj in $bxSlider[0])"undefined"!=typeof $bxSlider[0][obj].carouselPagerSel&&(carouselPager[obj]=$bxSlider[0][obj].carouselPagerSel,pagerInstance[obj]=$(carouselPager[obj]).bxSlider($bxSlider[0][obj].pagerOptions),$bxSlider[0][obj].options.carouselPager={Instance:pagerInstance[obj],Options:$bxSlider[0][obj].pagerOptions}),"undefined"!=typeof $bxSlider[0][obj].options.onSliderLoad&&($bxSlider[0][obj].options.onSliderLoad=new Function("currentIndex",$bxSlider[0][obj].options.onSliderLoad)),"undefined"!=typeof $bxSlider[0][obj].options.onSlideBefore&&($bxSlider[0][obj].options.onSlideBefore=new Function("$slideElement","oldIndex","newIndex",$bxSlider[0][obj].options.onSlideBefore)),"undefined"!=typeof $bxSlider[0][obj].options.onSlideAfter&&($bxSlider[0][obj].options.onSlideAfter=new Function("$slideElement","oldIndex","newIndex",$bxSlider[0][obj].options.onSlideAfter)),"undefined"!=typeof $bxSlider[0][obj].options.onSlideNext&&($bxSlider[0][obj].options.onSlideNext=new Function("$slideElement","oldIndex","newIndex",$bxSlider[0][obj].options.onSlideNext)),"undefined"!=typeof $bxSlider[0][obj].options.onSlidePrev&&($bxSlider[0][obj].options.onSlidePrev=new Function("$slideElement","oldIndex","newIndex",$bxSlider[0][obj].options.onSlidePrev)),selector[obj]=$bxSlider[0][obj].selector,$(selector[obj]).children().length>1&&(bxslider_instance[obj]=$(selector[obj]).bxSlider($bxSlider[0][obj].options))}}},Drupal.behaviors.matterhornVladLoader={attach:function(context,settings){settings.matterhorn.vlad_loader.status&&($("body").queryLoader2(settings.matterhorn.vlad_loader.options),$("#qLbar").css({top:0}))}},Drupal.behaviors.matterhornNotification={attach:function(context,settings){var account=settings.matterhorn.account,notification=settings.matterhorn.notification;if(notification.status){var dnSetCookie=function(c_name,value,exdays){var exdate=new Date;exdate.setDate(exdate.getDate()+exdays);var c_value=escape(value)+(null==exdays?"":"; expires="+exdate.toUTCString());document.cookie=c_name+"="+c_value},dnGetCookie=function(c_name){var c_value=document.cookie,c_start=c_value.indexOf(" "+c_name+"=");if(-1==c_start&&(c_start=c_value.indexOf(c_name+"=")),-1==c_start)c_value=null;else{c_start=c_value.indexOf("=",c_start)+1;var c_end=c_value.indexOf(";",c_start);-1==c_end&&(c_end=c_value.length),c_value=unescape(c_value.substring(c_start,c_end))}return c_value};"yes"!==dnGetCookie("matterhorn_notification_closed_"+account.username)&&$("body").prepend('<div class="matterhorn-notification-wrapper clearfix"><div class="matterhorn-notification"><a href="#" class="matterhorn-close-notification">'+Drupal.t("Close")+'</a><div class="content">'+notification.body+"</div></div></div>"),$("a.matterhorn-close-notification").click(function(e){e.preventDefault(),dnSetCookie("matterhorn_notification_closed_"+account.username,"yes",notification.expiration),$(".matterhorn-notification-wrapper").remove()})}}},Drupal.behaviors.QStringToObj=function(str){var group=[],obj={};if(-1===str.indexOf("?"))group=str.split("&");else{var idx=str.indexOf("?")+1;group=str.slice(idx).split("&")}return $.each(group,function(i,e){var v=e.split("=");obj[v[0]]=v[1]}),obj},Drupal.behaviors.getParamByName=function(p){p=p.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regex=new RegExp("[\\?&]"+p+"=([^&#]*)"),results=regex.exec(location.search);return null===results?"":decodeURIComponent(results[1].replace(/\+/g," "))}}(jQuery),function($){function validateUserSession(){$.get(Drupal.settings.alias+Drupal.settings.pathPrefix+"matterhorn/account/validate",function(result){result.valid||(window.location.href=Drupal.settings.alias)},"json"),setTimeout(validateUserSession,Drupal.settings.intervalMillisecs)}Drupal.behaviors.matterhorn_account={attach:function(context,settings){var is_lessThanIE9=1==$.browser.msie&&$.browser.version<="9.0",is_notmodernFF=1==$.browser.mozilla&&$.browser.version<"30";if(1==Drupal.settings.logged_in&&setTimeout(validateUserSession,Drupal.settings.intervalMillisecs),$(".refresh-balance").each(function(){$(this).data("title",$(this).attr("title")),$(this).removeAttr("title")}),jQuery().tooltip){var tooltipTemplate="<span class='pointer'></span><span>"+$(".refresh-balance").data("title")+"</span>";$(".refresh-balance").click(function(){$(this).removeClass("refresh-balance").addClass("reloading-balance"),$.ajax({url:Drupal.settings.alias+Drupal.settings.pathPrefix+"refresh/balance",dataType:"json"}).done(function(result){$(".reloading-balance").removeClass("reloading-balance").addClass("refresh-balance"),$(".available-balance .user-balance").html(result)})}).tooltip({content:tooltipTemplate,position:{my:"right+10 top",at:"center bottom",collision:"none"},show:!0,hide:!1,items:"span",tooltipClass:"account-tooltip"}).hover(function(){$(this).tooltip("open")},function(){$(this).tooltip("close")})}if(Drupal.clientsideValidation){{Drupal.settings.matterhorn.webform.enable_tooltips}Drupal.clientsideValidation.prototype.show_custom_login_error=function(error,element){var errorMarker=$(".login-error");errorMarker.length<1?("matterhorn-username"==$(element).attr("id")&&$("div.text-fields").after('<div class="login-error pull-right"><span class="icon-login-error"></span>'+settings.matterhorn_header.m_header.login_username_err_msg+"</div>"),"matterhorn-password"==$(element).attr("id")&&$("div.text-fields").after('<div class="login-error pull-right"><span class="icon-login-error"></span>'+settings.matterhorn_header.m_header.login_password_err_msg+"</div>"),$(element).focus()):"matterhorn-password"==$(element).attr("id")&&(is_lessThanIE9||is_notmodernFF)&&""==$("#matterhorn-password").val()&&$(".password-placeholder").show()}}var usernamePlaceholderText=$(".username-placeholder").text(),passwordPlaceholderText=$(".password-placeholder").text();is_lessThanIE9||is_notmodernFF?($("#matterhorn-username").focus(function(){$(".username-placeholder").hide()}).blur(function(){""==$(this).val()&&$(".username-placeholder").show()}),$("#matterhorn-password").focus(function(){$(".password-placeholder").hide()}).blur(function(){""==$(this).val()&&$(".password-placeholder").show()})):($("#matterhorn-username").attr("placeholder",usernamePlaceholderText),$("#matterhorn-password").attr("placeholder",passwordPlaceholderText),$(".username-placeholder").remove(),$(".password-placeholder").remove(),$("#matterhorn-username").focus(function(){$("#matterhorn-username").removeAttr("placeholder")}).blur(function(){$("#matterhorn-username").attr("placeholder",usernamePlaceholderText)}),$("#matterhorn-password").focus(function(){$("#matterhorn-password").removeAttr("placeholder")}).blur(function(){$("#matterhorn-password").attr("placeholder",passwordPlaceholderText)}))}}}(jQuery),function($){$.reject=function(options){var opts=$.extend(!0,{reject:{all:!1,msie5:!0,msie6:!0},display:[],browserShow:!0,browserInfo:{firefox:{text:"Mozilla Firefox",url:"http://www.mozilla.com/firefox/"},chrome:{text:"Google Chrome",url:"http://www.google.com/chrome/"},safari:{text:"Safari 5",url:"http://www.apple.com/safari/download/"},opera:{text:"Opera 12",url:"http://www.opera.com/download/"},msie:{text:"Internet Explorer 9",url:"http://www.microsoft.com/windows/Internet-explorer/"},gcf:{text:"Google Chrome Frame",url:"http://code.google.com/chrome/chromeframe/",allow:{all:!1,msie:!0}}},header:"Did you know that your Internet Browser is out of date?",paragraph1:"Your browser is out of date, and may not be compatible with our website. A list of the most popular web browsers can be found below.",paragraph2:"Just click on the icons to get to the download page",close:!0,closeMessage:"By closing this window you acknowledge that your experience on this website may be degraded",closeLink:"Close This Window",closeURL:"#",closeESC:!0,closeCookie:!1,cookieSettings:{path:"/",expires:0},imagePath:"./images/",overlayBgColor:"#000",overlayOpacity:.8,fadeInTime:"fast",fadeOutTime:"fast",analytics:!1},options);opts.display.length<1&&(opts.display=["chrome","firefox","safari","opera","gcf","msie"]),$.isFunction(opts.beforeReject)&&opts.beforeReject(),opts.close||(opts.closeESC=!1);var browserCheck=function(settings){return!((settings.all?0:1)&&(settings[$.os.name]?0:1)&&(settings[$.layout.name]?0:1)&&(settings[$.browser.name]?0:1)&&(settings[$.browser.className]?0:1))};if(!browserCheck(opts.reject))return $.isFunction(opts.onFail)&&opts.onFail(),!1;var COOKIE_NAME="jreject-close",_cookie=function(name,value){if("undefined"!=typeof value){var expires="";if(0!==opts.cookieSettings.expires){var date=new Date;date.setTime(date.getTime()+1e3*opts.cookieSettings.expires),expires="; expires="+date.toGMTString()}var path=opts.cookieSettings.path||"/";return document.cookie=name+"="+encodeURIComponent(value?value:"")+expires+"; path="+path,!0}var cookie,val=null;if(document.cookie&&""!==document.cookie)for(var cookies=document.cookie.split(";"),clen=cookies.length,i=0;clen>i;++i)if(cookie=$.trim(cookies[i]),cookie.substring(0,name.length+1)==name+"="){var len=name.length;val=decodeURIComponent(cookie.substring(len+1));break}return val};if(_cookie(COOKIE_NAME))return!1;var html='<div id="jr_overlay"></div><div id="jr_wrap"><div id="jr_inner"><h1 id="jr_header">'+opts.header+"</h1>"+(""===opts.paragraph1?"":"<p>"+opts.paragraph1+"</p>")+(""===opts.paragraph2?"":"<p>"+opts.paragraph2+"</p>");if(opts.browserShow){html+="<ul>";var displayNum=0;for(var x in opts.display){var browser=opts.display[x],info=opts.browserInfo[browser]||!1;if(info&&("undefined"==typeof info.allow||browserCheck(info.allow))){var url=info.url||"#";html+='<li id="jr_'+browser+'"><div class="jr_icon"></div><div><a href="'+url+'">'+(info.text||"Unknown")+"</a></div></li>",++displayNum}}html+="</ul>"}html+='<div id="jr_close">'+(opts.close?'<a href="'+opts.closeURL+'">'+opts.closeLink+"</a><p>"+opts.closeMessage+"</p>":"")+"</div></div></div>";var element=$("<div>"+html+"</div>"),size=_pageSize(),scroll=_scrollSize();element.bind("closejr",function(){if(!opts.close)return!1;$.isFunction(opts.beforeClose)&&opts.beforeClose(),$(this).unbind("closejr"),$("#jr_overlay,#jr_wrap").fadeOut(opts.fadeOutTime,function(){$(this).remove(),$.isFunction(opts.afterClose)&&opts.afterClose()});var elmhide="embed.jr_hidden, object.jr_hidden, select.jr_hidden, applet.jr_hidden";return $(elmhide).show().removeClass("jr_hidden"),opts.closeCookie&&_cookie(COOKIE_NAME,"true"),!0});var analytics=function(url){if(!opts.analytics)return!1;var host=url.split(/\/+/g)[1];try{_gaq.push(["_trackEvent","External Links",host,url])}catch(e){try{pageTracker._trackEvent("External Links",host,url)}catch(e){}}},openBrowserLinks=function(url){return analytics(url),window.open(url,"jr_"+Math.round(11*Math.random())),!1};return element.find("#jr_overlay").css({width:size[0],height:size[1],background:opts.overlayBgColor,opacity:opts.overlayOpacity}),element.find("#jr_wrap").css({top:scroll[1]+size[3]/4,left:scroll[0]}),element.find("#jr_inner").css({minWidth:100*displayNum,maxWidth:140*displayNum,width:"trident"==$.layout.name?155*displayNum:"auto"}),element.find("#jr_inner li").css({background:'transparent url("'+opts.imagePath+'background_browser.gif")no-repeat scroll left top'}),element.find("#jr_inner li .jr_icon").each(function(){var self=$(this);self.css("background","transparent url("+opts.imagePath+"browser_"+self.parent("li").attr("id").replace(/jr_/,"")+".gif) no-repeat scroll left top"),self.click(function(){var url=$(this).next("div").children("a").attr("href");openBrowserLinks(url)})}),element.find("#jr_inner li a").click(function(){return openBrowserLinks($(this).attr("href")),!1}),element.find("#jr_close a").click(function(){return $(this).trigger("closejr"),"#"===opts.closeURL?!1:void 0}),$("#jr_overlay").focus(),$("embed, object, select, applet").each(function(){$(this).is(":visible")&&$(this).hide().addClass("jr_hidden")}),$("body").append(element.hide().fadeIn(opts.fadeInTime)),$(window).bind("resize scroll",function(){var size=_pageSize();$("#jr_overlay").css({width:size[0],height:size[1]});var scroll=_scrollSize();$("#jr_wrap").css({top:scroll[1]+size[3]/4,left:scroll[0]})}),opts.closeESC&&$(document).bind("keydown",function(event){27==event.keyCode&&element.trigger("closejr")}),$.isFunction(opts.afterReject)&&opts.afterReject(),!0};var _pageSize=function(){var xScroll=window.innerWidth&&window.scrollMaxX?window.innerWidth+window.scrollMaxX:document.body.scrollWidth>document.body.offsetWidth?document.body.scrollWidth:document.body.offsetWidth,yScroll=window.innerHeight&&window.scrollMaxY?window.innerHeight+window.scrollMaxY:document.body.scrollHeight>document.body.offsetHeight?document.body.scrollHeight:document.body.offsetHeight,windowWidth=window.innerWidth?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.clientWidth,windowHeight=window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight;return[windowWidth>xScroll?xScroll:windowWidth,windowHeight>yScroll?windowHeight:yScroll,windowWidth,windowHeight]},_scrollSize=function(){return[window.pageXOffset?window.pageXOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollLeft:document.body.scrollLeft,window.pageYOffset?window.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop]}}(jQuery),function($){$.browserTest=function(a,z){var u="unknown",x="X",m=function(r,h){for(var i=0;i<h.length;i+=1)r=r.replace(h[i][0],h[i][1]);return r},c=function(i,a,b,c){var r={name:m((a.exec(i)||[u,u])[1],b)};if(r[r.name]=!0,r.version=r.opera?window.opera.version():(c.exec(i)||[x,x,x,x])[3],/safari/.test(r.name)){var safariversion=/(safari)(\/|\s)([a-z0-9\.\+]*?)(\;|dev|rel|\s|$)/,res=safariversion.exec(i);res&&res[3]&&res[3]<400&&(r.version="2.0")}else"presto"===r.name&&(r.version=$.browser.version>9.27?"futhark":"linear_b");r.versionNumber=parseFloat(r.version,10)||0;var minorStart=1;return r.versionNumber<100&&r.versionNumber>9&&(minorStart=2),r.versionX=r.version!==x?r.version.substr(0,minorStart):x,r.className=r.name+r.versionX,r};a=(/Opera|Navigator|Minefield|KHTML|Chrome|CriOS/.test(a)?m(a,[[/(Firefox|MSIE|KHTML,\slike\sGecko|Konqueror)/,""],["Chrome Safari","Chrome"],["CriOS","Chrome"],["KHTML","Konqueror"],["Minefield","Firefox"],["Navigator","Netscape"]]):a).toLowerCase(),$.browser=$.extend(z?{}:$.browser,c(a,/(camino|chrome|crios|firefox|netscape|konqueror|lynx|msie|opera|safari)/,[],/(camino|chrome|crios|firefox|netscape|netscape6|opera|version|konqueror|lynx|msie|safari)(\/|\s)([a-z0-9\.\+]*?)(\;|dev|rel|\s|$)/)),$.layout=c(a,/(gecko|konqueror|msie|opera|webkit)/,[["konqueror","khtml"],["msie","trident"],["opera","presto"]],/(applewebkit|rv|konqueror|msie)(\:|\/|\s)([a-z0-9\.]*?)(\;|\)|\s)/),$.os={name:(/(win|mac|linux|sunos|solaris|iphone|ipad)/.exec(navigator.platform.toLowerCase())||[u])[0].replace("sunos","solaris")},z||$("html").addClass([$.os.name,$.browser.name,$.browser.className,$.layout.name,$.layout.className].join(" "))},$.browserTest(navigator.userAgent)}(jQuery),function($){var plugin={},defaults={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSliderResize:function(){}};$.fn.bxSlider=function(options){if(0==this.length)return this;if(this.length>1)return this.each(function(){$(this).bxSlider(options)}),this;var slider={},el=this;plugin.el=this;var windowWidth=$(window).width(),windowHeight=$(window).height(),init=function(){slider.settings=$.extend({},defaults,options),slider.settings.slideWidth=parseInt(slider.settings.slideWidth),slider.children=el.children(slider.settings.slideSelector),slider.children.length<slider.settings.minSlides&&(slider.settings.minSlides=slider.children.length),slider.children.length<slider.settings.maxSlides&&(slider.settings.maxSlides=slider.children.length),slider.settings.randomStart&&(slider.settings.startSlide=Math.floor(Math.random()*slider.children.length)),slider.active={index:slider.settings.startSlide},slider.carousel=slider.settings.minSlides>1||slider.settings.maxSlides>1,slider.carousel&&(slider.settings.preloadImages="all"),slider.minThreshold=slider.settings.minSlides*slider.settings.slideWidth+(slider.settings.minSlides-1)*slider.settings.slideMargin,slider.maxThreshold=slider.settings.maxSlides*slider.settings.slideWidth+(slider.settings.maxSlides-1)*slider.settings.slideMargin,slider.working=!1,slider.controls={},slider.interval=null,slider.animProp="vertical"==slider.settings.mode?"top":"left",slider.usingCSS=slider.settings.useCSS&&"fade"!=slider.settings.mode&&function(){var div=document.createElement("div"),props=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in props)if(void 0!==div.style[props[i]])return slider.cssPrefix=props[i].replace("Perspective","").toLowerCase(),slider.animProp="-"+slider.cssPrefix+"-transform",!0;return!1}(),"vertical"==slider.settings.mode&&(slider.settings.maxSlides=slider.settings.minSlides),el.data("origStyle",el.attr("style")),el.children(slider.settings.slideSelector).each(function(){$(this).data("origStyle",$(this).attr("style"))}),setup()},setup=function(){el.wrap('<div class="'+slider.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),slider.viewport=el.parent(),slider.loader=$('<div class="bx-loading" />'),slider.viewport.prepend(slider.loader),el.css({width:"horizontal"==slider.settings.mode?100*slider.children.length+215+"%":"auto",position:"relative"}),slider.usingCSS&&slider.settings.easing?el.css("-"+slider.cssPrefix+"-transition-timing-function",slider.settings.easing):slider.settings.easing||(slider.settings.easing="swing");getNumberSlidesShowing();slider.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),slider.viewport.parent().css({maxWidth:getViewportMaxWidth()}),slider.settings.pager||slider.viewport.parent().css({margin:"0 auto 0px"}),slider.children.css({"float":"horizontal"==slider.settings.mode?"left":"none",listStyle:"none",position:"relative"}),slider.children.css("width",getSlideWidth()),"horizontal"==slider.settings.mode&&slider.settings.slideMargin>0&&slider.children.css("marginRight",slider.settings.slideMargin),"vertical"==slider.settings.mode&&slider.settings.slideMargin>0&&slider.children.css("marginBottom",slider.settings.slideMargin),"fade"==slider.settings.mode&&(slider.children.css({position:"absolute",zIndex:0,display:"none"}),slider.children.eq(slider.settings.startSlide).css({zIndex:slider.settings.slideZIndex,display:"block"})),slider.controls.el=$('<div class="bx-controls" />'),slider.settings.captions&&appendCaptions(),slider.active.last=slider.settings.startSlide==getPagerQty()-1,slider.settings.video&&el.fitVids();var preloadSelector=slider.children.eq(slider.settings.startSlide);"all"==slider.settings.preloadImages&&(preloadSelector=slider.children),slider.settings.ticker?slider.settings.pager=!1:(slider.settings.pager&&appendPager(),slider.settings.controls&&appendControls(),slider.settings.auto&&slider.settings.autoControls&&appendControlsAuto(),(slider.settings.controls||slider.settings.autoControls||slider.settings.pager)&&slider.viewport.after(slider.controls.el)),loadElements(preloadSelector,start)},loadElements=function(selector,callback){var total=selector.find("img, iframe").length;if(0==total)return void callback();var count=0;selector.find("img, iframe").each(function(){$(this).one("load",function(){++count==total&&callback()}).each(function(){this.complete&&$(this).load()})})},start=function(){if(slider.settings.infiniteLoop&&"fade"!=slider.settings.mode&&!slider.settings.ticker){var slice="vertical"==slider.settings.mode?slider.settings.minSlides:slider.settings.maxSlides,sliceAppend=slider.children.slice(0,slice).clone().addClass("bx-clone"),slicePrepend=slider.children.slice(-slice).clone().addClass("bx-clone");el.append(sliceAppend).prepend(slicePrepend)}slider.loader.remove(),setSlidePosition(),"vertical"==slider.settings.mode&&(slider.settings.adaptiveHeight=!0),slider.viewport.height(getViewportHeight()),el.redrawSlider(),slider.settings.onSliderLoad(slider.active.index),slider.initialized=!0,slider.settings.responsive&&$(window).bind("resize",resizeWindow),slider.settings.auto&&slider.settings.autoStart&&(getPagerQty()>1||slider.settings.autoSlideForOnePage)&&initAuto(),slider.settings.ticker&&initTicker(),slider.settings.pager&&updatePagerActive(slider.settings.startSlide),slider.settings.controls&&updateDirectionControls(),slider.settings.touchEnabled&&!slider.settings.ticker&&initTouch()},getViewportHeight=function(){var height=0,children=$();if("vertical"==slider.settings.mode||slider.settings.adaptiveHeight)if(slider.carousel){var currentIndex=1==slider.settings.moveSlides?slider.active.index:slider.active.index*getMoveBy();for(children=slider.children.eq(currentIndex),i=1;i<=slider.settings.maxSlides-1;i++)children=children.add(currentIndex+i>=slider.children.length?slider.children.eq(i-1):slider.children.eq(currentIndex+i))}else children=slider.children.eq(slider.active.index);else children=slider.children;return"vertical"==slider.settings.mode?(children.each(function(){height+=$(this).outerHeight()}),slider.settings.slideMargin>0&&(height+=slider.settings.slideMargin*(slider.settings.minSlides-1))):height=Math.max.apply(Math,children.map(function(){return $(this).outerHeight(!1)}).get()),"border-box"==slider.viewport.css("box-sizing")?height+=parseFloat(slider.viewport.css("padding-top"))+parseFloat(slider.viewport.css("padding-bottom"))+parseFloat(slider.viewport.css("border-top-width"))+parseFloat(slider.viewport.css("border-bottom-width")):"padding-box"==slider.viewport.css("box-sizing")&&(height+=parseFloat(slider.viewport.css("padding-top"))+parseFloat(slider.viewport.css("padding-bottom"))),height},getViewportMaxWidth=function(){var width="100%";return slider.settings.slideWidth>0&&(width="horizontal"==slider.settings.mode?slider.settings.maxSlides*slider.settings.slideWidth+(slider.settings.maxSlides-1)*slider.settings.slideMargin:slider.settings.slideWidth),width},getSlideWidth=function(){var newElWidth=slider.settings.slideWidth,wrapWidth=slider.viewport.width();return 0==slider.settings.slideWidth||slider.settings.slideWidth>wrapWidth&&!slider.carousel||"vertical"==slider.settings.mode?newElWidth=wrapWidth:slider.settings.maxSlides>1&&"horizontal"==slider.settings.mode&&(wrapWidth>slider.maxThreshold||wrapWidth<slider.minThreshold&&(newElWidth=(wrapWidth-slider.settings.slideMargin*(slider.settings.minSlides-1))/slider.settings.minSlides)),newElWidth},getNumberSlidesShowing=function(){var slidesShowing=1;if("horizontal"==slider.settings.mode&&slider.settings.slideWidth>0)if(slider.viewport.width()<slider.minThreshold)slidesShowing=slider.settings.minSlides;else if(slider.viewport.width()>slider.maxThreshold)slidesShowing=slider.settings.maxSlides;else{var childWidth=slider.children.first().width()+slider.settings.slideMargin;slidesShowing=Math.floor((slider.viewport.width()+slider.settings.slideMargin)/childWidth)}else"vertical"==slider.settings.mode&&(slidesShowing=slider.settings.minSlides);return slidesShowing},getPagerQty=function(){var pagerQty=0;if(slider.settings.moveSlides>0)if(slider.settings.infiniteLoop)pagerQty=Math.ceil(slider.children.length/getMoveBy());else for(var breakPoint=0,counter=0;breakPoint<slider.children.length;)++pagerQty,breakPoint=counter+getNumberSlidesShowing(),counter+=slider.settings.moveSlides<=getNumberSlidesShowing()?slider.settings.moveSlides:getNumberSlidesShowing();else pagerQty=Math.ceil(slider.children.length/getNumberSlidesShowing());return pagerQty},getMoveBy=function(){return slider.settings.moveSlides>0&&slider.settings.moveSlides<=getNumberSlidesShowing()?slider.settings.moveSlides:getNumberSlidesShowing()},setSlidePosition=function(){if(slider.children.length>slider.settings.maxSlides&&slider.active.last&&!slider.settings.infiniteLoop){if("horizontal"==slider.settings.mode){var lastChild=slider.children.last(),position=lastChild.position();setPositionProperty(-(position.left-(slider.viewport.width()-lastChild.outerWidth())),"reset",0)}else if("vertical"==slider.settings.mode){var lastShowingIndex=slider.children.length-slider.settings.minSlides,position=slider.children.eq(lastShowingIndex).position();setPositionProperty(-position.top,"reset",0)}}else{var position=slider.children.eq(slider.active.index*getMoveBy()).position();slider.active.index==getPagerQty()-1&&(slider.active.last=!0),void 0!=position&&("horizontal"==slider.settings.mode?setPositionProperty(-position.left,"reset",0):"vertical"==slider.settings.mode&&setPositionProperty(-position.top,"reset",0))}},setPositionProperty=function(value,type,duration,params){if(slider.usingCSS){var propValue="vertical"==slider.settings.mode?"translate3d(0, "+value+"px, 0)":"translate3d("+value+"px, 0, 0)";el.css("-"+slider.cssPrefix+"-transition-duration",duration/1e3+"s"),"slide"==type?(el.css(slider.animProp,propValue),el.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){el.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),updateAfterSlideTransition()})):"reset"==type?el.css(slider.animProp,propValue):"ticker"==type&&(el.css("-"+slider.cssPrefix+"-transition-timing-function","linear"),el.css(slider.animProp,propValue),el.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){el.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),setPositionProperty(params.resetValue,"reset",0),tickerLoop()}))}else{var animateObj={};animateObj[slider.animProp]=value,"slide"==type?el.animate(animateObj,duration,slider.settings.easing,function(){
updateAfterSlideTransition()}):"reset"==type?el.css(slider.animProp,value):"ticker"==type&&el.animate(animateObj,speed,"linear",function(){setPositionProperty(params.resetValue,"reset",0),tickerLoop()})}},populatePager=function(){for(var pagerHtml="",pagerQty=getPagerQty(),i=0;pagerQty>i;i++){var linkContent="";slider.settings.buildPager&&$.isFunction(slider.settings.buildPager)?(linkContent=slider.settings.buildPager(i),slider.pagerEl.addClass("bx-custom-pager")):(linkContent=i+1,slider.pagerEl.addClass("bx-default-pager")),pagerHtml+='<div class="bx-pager-item"><a href="" data-slide-index="'+i+'" class="bx-pager-link">'+linkContent+"</a></div>"}slider.pagerEl.html(pagerHtml)},appendPager=function(){slider.settings.pagerCustom?slider.pagerEl=$(slider.settings.pagerCustom):(slider.pagerEl=$('<div class="bx-pager" />'),slider.settings.pagerSelector?$(slider.settings.pagerSelector).html(slider.pagerEl):slider.controls.el.addClass("bx-has-pager").append(slider.pagerEl),populatePager()),slider.pagerEl.on("click","a",clickPagerBind)},appendControls=function(){slider.controls.next=$('<a class="bx-next" href="">'+slider.settings.nextText+"</a>"),slider.controls.prev=$('<a class="bx-prev" href="">'+slider.settings.prevText+"</a>"),slider.controls.next.bind("click",clickNextBind),slider.controls.prev.bind("click",clickPrevBind),slider.settings.nextSelector&&$(slider.settings.nextSelector).append(slider.controls.next),slider.settings.prevSelector&&$(slider.settings.prevSelector).append(slider.controls.prev),slider.settings.nextSelector||slider.settings.prevSelector||(slider.controls.directionEl=$('<div class="bx-controls-direction" />'),slider.controls.directionEl.append(slider.controls.prev).append(slider.controls.next),slider.controls.el.addClass("bx-has-controls-direction").append(slider.controls.directionEl))},appendControlsAuto=function(){slider.controls.start=$('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+slider.settings.startText+"</a></div>"),slider.controls.stop=$('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+slider.settings.stopText+"</a></div>"),slider.controls.autoEl=$('<div class="bx-controls-auto" />'),slider.controls.autoEl.on("click",".bx-start",clickStartBind),slider.controls.autoEl.on("click",".bx-stop",clickStopBind),slider.settings.autoControlsCombine?slider.controls.autoEl.append(slider.controls.start):slider.controls.autoEl.append(slider.controls.start).append(slider.controls.stop),slider.settings.autoControlsSelector?$(slider.settings.autoControlsSelector).html(slider.controls.autoEl):slider.controls.el.addClass("bx-has-controls-auto").append(slider.controls.autoEl),updateAutoControls(slider.settings.autoStart?"stop":"start")},appendCaptions=function(){slider.children.each(function(){var title=$(this).find("img:first").attr("title");void 0!=title&&(""+title).length&&$(this).append('<div class="bx-caption"><span>'+title+"</span></div>")})},clickNextBind=function(e){slider.settings.auto&&el.stopAuto(),el.goToNextSlide(),e.preventDefault()},clickPrevBind=function(e){slider.settings.auto&&el.stopAuto(),el.goToPrevSlide(),e.preventDefault()},clickStartBind=function(e){el.startAuto(),e.preventDefault()},clickStopBind=function(e){el.stopAuto(),e.preventDefault()},clickPagerBind=function(e){slider.settings.auto&&el.stopAuto();var pagerLink=$(e.currentTarget);if(void 0!==pagerLink.attr("data-slide-index")){var pagerIndex=parseInt(pagerLink.attr("data-slide-index"));pagerIndex!=slider.active.index&&el.goToSlide(pagerIndex),e.preventDefault()}},updatePagerActive=function(slideIndex){var len=slider.children.length;return"short"==slider.settings.pagerType?(slider.settings.maxSlides>1&&(len=Math.ceil(slider.children.length/slider.settings.maxSlides)),void slider.pagerEl.html(slideIndex+1+slider.settings.pagerShortSeparator+len)):(slider.pagerEl.find("a").removeClass("active"),void slider.pagerEl.each(function(i,el){$(el).find("a").eq(slideIndex).addClass("active")}))},updateAfterSlideTransition=function(){if(slider.settings.infiniteLoop){var position="";0==slider.active.index?position=slider.children.eq(0).position():slider.active.index==getPagerQty()-1&&slider.carousel?position=slider.children.eq((getPagerQty()-1)*getMoveBy()).position():slider.active.index==slider.children.length-1&&(position=slider.children.eq(slider.children.length-1).position()),position&&("horizontal"==slider.settings.mode?setPositionProperty(-position.left,"reset",0):"vertical"==slider.settings.mode&&setPositionProperty(-position.top,"reset",0))}slider.working=!1,slider.settings.onSlideAfter(slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index)},updateAutoControls=function(state){slider.settings.autoControlsCombine?slider.controls.autoEl.html(slider.controls[state]):(slider.controls.autoEl.find("a").removeClass("active"),slider.controls.autoEl.find("a:not(.bx-"+state+")").addClass("active"))},updateDirectionControls=function(){1==getPagerQty()?(slider.controls.prev.addClass("disabled"),slider.controls.next.addClass("disabled")):!slider.settings.infiniteLoop&&slider.settings.hideControlOnEnd&&(0==slider.active.index?(slider.controls.prev.addClass("disabled"),slider.controls.next.removeClass("disabled")):slider.active.index==getPagerQty()-1?(slider.controls.next.addClass("disabled"),slider.controls.prev.removeClass("disabled")):(slider.controls.prev.removeClass("disabled"),slider.controls.next.removeClass("disabled")))},initAuto=function(){if(slider.settings.autoDelay>0){setTimeout(el.startAuto,slider.settings.autoDelay)}else el.startAuto();slider.settings.autoHover&&el.hover(function(){slider.interval&&(el.stopAuto(!0),slider.autoPaused=!0)},function(){slider.autoPaused&&(el.startAuto(!0),slider.autoPaused=null)})},initTicker=function(){var startPosition=0;if("next"==slider.settings.autoDirection)el.append(slider.children.clone().addClass("bx-clone"));else{el.prepend(slider.children.clone().addClass("bx-clone"));var position=slider.children.first().position();startPosition="horizontal"==slider.settings.mode?-position.left:-position.top}setPositionProperty(startPosition,"reset",0),slider.settings.pager=!1,slider.settings.controls=!1,slider.settings.autoControls=!1,slider.settings.tickerHover&&!slider.usingCSS&&slider.viewport.hover(function(){el.stop()},function(){var totalDimens=0;slider.children.each(function(){totalDimens+="horizontal"==slider.settings.mode?$(this).outerWidth(!0):$(this).outerHeight(!0)});var ratio=slider.settings.speed/totalDimens,property="horizontal"==slider.settings.mode?"left":"top",newSpeed=ratio*(totalDimens-Math.abs(parseInt(el.css(property))));tickerLoop(newSpeed)}),tickerLoop()},tickerLoop=function(resumeSpeed){speed=resumeSpeed?resumeSpeed:slider.settings.speed;var position={left:0,top:0},reset={left:0,top:0};"next"==slider.settings.autoDirection?position=el.find(".bx-clone").first().position():reset=slider.children.first().position();var animateProperty="horizontal"==slider.settings.mode?-position.left:-position.top,resetValue="horizontal"==slider.settings.mode?-reset.left:-reset.top,params={resetValue:resetValue};setPositionProperty(animateProperty,"ticker",speed,params)},initTouch=function(){slider.touch={start:{x:0,y:0},end:{x:0,y:0}},slider.viewport.bind("touchstart",onTouchStart)},onTouchStart=function(e){if(slider.working)e.preventDefault();else{slider.touch.originalPos=el.position();var orig=e.originalEvent;slider.touch.start.x=orig.changedTouches[0].pageX,slider.touch.start.y=orig.changedTouches[0].pageY,slider.viewport.bind("touchmove",onTouchMove),slider.viewport.bind("touchend",onTouchEnd)}},onTouchMove=function(e){var orig=e.originalEvent,xMovement=Math.abs(orig.changedTouches[0].pageX-slider.touch.start.x),yMovement=Math.abs(orig.changedTouches[0].pageY-slider.touch.start.y);if(3*xMovement>yMovement&&slider.settings.preventDefaultSwipeX?e.preventDefault():3*yMovement>xMovement&&slider.settings.preventDefaultSwipeY&&e.preventDefault(),"fade"!=slider.settings.mode&&slider.settings.oneToOneTouch){var value=0;if("horizontal"==slider.settings.mode){var change=orig.changedTouches[0].pageX-slider.touch.start.x;value=slider.touch.originalPos.left+change}else{var change=orig.changedTouches[0].pageY-slider.touch.start.y;value=slider.touch.originalPos.top+change}setPositionProperty(value,"reset",0)}},onTouchEnd=function(e){slider.viewport.unbind("touchmove",onTouchMove);var orig=e.originalEvent,value=0;if(slider.touch.end.x=orig.changedTouches[0].pageX,slider.touch.end.y=orig.changedTouches[0].pageY,"fade"==slider.settings.mode){var distance=Math.abs(slider.touch.start.x-slider.touch.end.x);distance>=slider.settings.swipeThreshold&&(slider.touch.start.x>slider.touch.end.x?el.goToNextSlide():el.goToPrevSlide(),el.stopAuto())}else{var distance=0;"horizontal"==slider.settings.mode?(distance=slider.touch.end.x-slider.touch.start.x,value=slider.touch.originalPos.left):(distance=slider.touch.end.y-slider.touch.start.y,value=slider.touch.originalPos.top),!slider.settings.infiniteLoop&&(0==slider.active.index&&distance>0||slider.active.last&&0>distance)?setPositionProperty(value,"reset",200):Math.abs(distance)>=slider.settings.swipeThreshold?(0>distance?el.goToNextSlide():el.goToPrevSlide(),el.stopAuto()):setPositionProperty(value,"reset",200)}slider.viewport.unbind("touchend",onTouchEnd)},resizeWindow=function(){if(slider.initialized){var windowWidthNew=$(window).width(),windowHeightNew=$(window).height();(windowWidth!=windowWidthNew||windowHeight!=windowHeightNew)&&(windowWidth=windowWidthNew,windowHeight=windowHeightNew,el.redrawSlider(),slider.settings.onSliderResize.call(el,slider.active.index))}};return el.goToSlide=function(slideIndex,direction){if(!slider.working&&slider.active.index!=slideIndex)if(slider.working=!0,slider.oldIndex=slider.active.index,slider.active.index=0>slideIndex?getPagerQty()-1:slideIndex>=getPagerQty()?0:slideIndex,slider.settings.onSlideBefore(slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index),"next"==direction?slider.settings.onSlideNext(slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index):"prev"==direction&&slider.settings.onSlidePrev(slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index),slider.active.last=slider.active.index>=getPagerQty()-1,slider.settings.pager&&updatePagerActive(slider.active.index),slider.settings.controls&&updateDirectionControls(),"fade"==slider.settings.mode)slider.settings.adaptiveHeight&&slider.viewport.height()!=getViewportHeight()&&slider.viewport.animate({height:getViewportHeight()},slider.settings.adaptiveHeightSpeed),slider.children.filter(":visible").fadeOut(slider.settings.speed).css({zIndex:0}),slider.children.eq(slider.active.index).css("zIndex",slider.settings.slideZIndex+1).fadeIn(slider.settings.speed,function(){$(this).css("zIndex",slider.settings.slideZIndex),updateAfterSlideTransition()});else{slider.settings.adaptiveHeight&&slider.viewport.height()!=getViewportHeight()&&slider.viewport.animate({height:getViewportHeight()},slider.settings.adaptiveHeightSpeed);var moveBy=0,position={left:0,top:0};if(!slider.settings.infiniteLoop&&slider.carousel&&slider.active.last)if("horizontal"==slider.settings.mode){var lastChild=slider.children.eq(slider.children.length-1);position=lastChild.position(),moveBy=slider.viewport.width()-lastChild.outerWidth()}else{var lastShowingIndex=slider.children.length-slider.settings.minSlides;position=slider.children.eq(lastShowingIndex).position()}else if(slider.carousel&&slider.active.last&&"prev"==direction){var eq=1==slider.settings.moveSlides?slider.settings.maxSlides-getMoveBy():(getPagerQty()-1)*getMoveBy()-(slider.children.length-slider.settings.maxSlides),lastChild=el.children(".bx-clone").eq(eq);position=lastChild.position()}else if("next"==direction&&0==slider.active.index)position=el.find("> .bx-clone").eq(slider.settings.maxSlides).position(),slider.active.last=!1;else if(slideIndex>=0){var requestEl=slideIndex*getMoveBy();position=slider.children.eq(requestEl).position()}if("undefined"!=typeof position){var value="horizontal"==slider.settings.mode?-(position.left-moveBy):-position.top;setPositionProperty(value,"slide",slider.settings.speed)}}},el.goToNextSlide=function(){if(slider.settings.infiniteLoop||!slider.active.last){var pagerIndex=parseInt(slider.active.index)+1;el.goToSlide(pagerIndex,"next")}},el.goToPrevSlide=function(){if(slider.settings.infiniteLoop||0!=slider.active.index){var pagerIndex=parseInt(slider.active.index)-1;el.goToSlide(pagerIndex,"prev")}},el.startAuto=function(preventControlUpdate){slider.interval||(slider.interval=setInterval(function(){"next"==slider.settings.autoDirection?el.goToNextSlide():el.goToPrevSlide()},slider.settings.pause),slider.settings.autoControls&&1!=preventControlUpdate&&updateAutoControls("stop"))},el.stopAuto=function(preventControlUpdate){slider.interval&&(clearInterval(slider.interval),slider.interval=null,slider.settings.autoControls&&1!=preventControlUpdate&&updateAutoControls("start"))},el.getCurrentSlide=function(){return slider.active.index},el.getCurrentSlideElement=function(){return slider.children.eq(slider.active.index)},el.getSlideCount=function(){return slider.children.length},el.redrawSlider=function(){slider.children.add(el.find(".bx-clone")).width(getSlideWidth()),slider.viewport.css("height",getViewportHeight()),slider.settings.ticker||setSlidePosition(),slider.active.last&&(slider.active.index=getPagerQty()-1),slider.active.index>=getPagerQty()&&(slider.active.last=!0),slider.settings.pager&&!slider.settings.pagerCustom&&(populatePager(),updatePagerActive(slider.active.index))},el.destroySlider=function(){slider.initialized&&(slider.initialized=!1,$(".bx-clone",this).remove(),slider.children.each(function(){void 0!=$(this).data("origStyle")?$(this).attr("style",$(this).data("origStyle")):$(this).removeAttr("style")}),void 0!=$(this).data("origStyle")?this.attr("style",$(this).data("origStyle")):$(this).removeAttr("style"),$(this).unwrap().unwrap(),slider.controls.el&&slider.controls.el.remove(),slider.controls.next&&slider.controls.next.remove(),slider.controls.prev&&slider.controls.prev.remove(),slider.pagerEl&&slider.settings.controls&&slider.pagerEl.remove(),$(".bx-caption",this).remove(),slider.controls.autoEl&&slider.controls.autoEl.remove(),clearInterval(slider.interval),slider.settings.responsive&&$(window).unbind("resize",resizeWindow))},el.reloadSlider=function(settings){void 0!=settings&&(options=settings),el.destroySlider(),init()},init(),this}}(jQuery),function($){$.fn.dragScroll=function(){var x,y,top,left,down,$scrollArea=$(this);$($scrollArea).attr("onselectstart","return false;"),$($scrollArea).mousedown(function(e){e.preventDefault(),down=!0,x=e.pageX,y=e.pageY,top=$(this).scrollTop(),left=$(this).scrollLeft()}),$($scrollArea).mouseleave(function(){down=!1}),$("body").mousemove(function(e){if(down){var newX=e.pageX,newY=e.pageY;$($scrollArea).scrollTop(top-newY+y),$($scrollArea).scrollLeft(left-newX+x)}}),$("body").mouseup(function(){down=!1})}}(jQuery),function($){$.fn.ezMark=function(options){options=options||{};var defaultOpt={checkboxCls:options.checkboxCls||"ez-checkbox",radioCls:options.radioCls||"ez-radio",checkedCls:options.checkedCls||"ez-checked",selectedCls:options.selectedCls||"ez-selected",hideCls:"ez-hide"};return this.each(function(){var $this=$(this),wrapTag="checkbox"==$this.attr("type")?'<div class="'+defaultOpt.checkboxCls+'">':'<div class="'+defaultOpt.radioCls+'">';"checkbox"==$this.attr("type")?($this.addClass(defaultOpt.hideCls).wrap(wrapTag).change(function(){$(this).is(":checked")?$(this).parent().addClass(defaultOpt.checkedCls):$(this).parent().removeClass(defaultOpt.checkedCls)}),$this.is(":checked")&&$this.parent().addClass(defaultOpt.checkedCls)):"radio"==$this.attr("type")&&($this.addClass(defaultOpt.hideCls).wrap(wrapTag).change(function(){$('input[name="'+$(this).attr("name")+'"]').each(function(){$(this).is(":checked")?$(this).parent().addClass(defaultOpt.selectedCls):$(this).parent().removeClass(defaultOpt.selectedCls)})}),$this.is(":checked")&&$this.parent().addClass(defaultOpt.selectedCls))})}}(jQuery),function(window,document,$,undefined){"use strict";var H=$("html"),W=$(window),D=$(document),F=$.fancybox=function(){F.open.apply(this,arguments)},IE=navigator.userAgent.match(/msie/i),didUpdate=null,isTouch=document.createTouch!==undefined,isQuery=function(obj){return obj&&obj.hasOwnProperty&&obj instanceof $},isString=function(str){return str&&"string"===$.type(str)},isPercentage=function(str){return isString(str)&&str.indexOf("%")>0},isScrollable=function(el){return el&&!(el.style.overflow&&"hidden"===el.style.overflow)&&(el.clientWidth&&el.scrollWidth>el.clientWidth||el.clientHeight&&el.scrollHeight>el.clientHeight)},getScalar=function(orig,dim){var value=parseInt(orig,10)||0;return dim&&isPercentage(orig)&&(value=F.getViewport()[dim]/100*value),Math.ceil(value)},getValue=function(value,dim){return getScalar(value,dim)+"px"};$.extend(F,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!isTouch,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(IE?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:$.noop,beforeLoad:$.noop,afterLoad:$.noop,beforeShow:$.noop,afterShow:$.noop,beforeChange:$.noop,beforeClose:$.noop,afterClose:$.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(group,opts){return group&&($.isPlainObject(opts)||(opts={}),!1!==F.close(!0))?($.isArray(group)||(group=isQuery(group)?$(group).get():[group]),$.each(group,function(i,element){var href,title,content,type,rez,hrefParts,selector,obj={};"object"===$.type(element)&&(element.nodeType&&(element=$(element)),isQuery(element)?(obj={href:element.data("fancybox-href")||element.attr("href"),title:element.data("fancybox-title")||element.attr("title"),isDom:!0,element:element},$.metadata&&$.extend(!0,obj,element.metadata())):obj=element),href=opts.href||obj.href||(isString(element)?element:null),title=opts.title!==undefined?opts.title:obj.title||"",content=opts.content||obj.content,type=content?"html":opts.type||obj.type,!type&&obj.isDom&&(type=element.data("fancybox-type"),type||(rez=element.prop("class").match(/fancybox\.(\w+)/),type=rez?rez[1]:null)),isString(href)&&(type||(F.isImage(href)?type="image":F.isSWF(href)?type="swf":"#"===href.charAt(0)?type="inline":isString(element)&&(type="html",content=element)),"ajax"===type&&(hrefParts=href.split(/\s+/,2),href=hrefParts.shift(),selector=hrefParts.shift())),content||("inline"===type?href?content=$(isString(href)?href.replace(/.*(?=#[^\s]+$)/,""):href):obj.isDom&&(content=element):"html"===type?content=href:type||href||!obj.isDom||(type="inline",content=element)),$.extend(obj,{href:href,type:type,content:content,title:title,selector:selector}),group[i]=obj}),F.opts=$.extend(!0,{},F.defaults,opts),opts.keys!==undefined&&(F.opts.keys=opts.keys?$.extend({},F.defaults.keys,opts.keys):!1),F.group=group,F._start(F.opts.index)):void 0},cancel:function(){var coming=F.coming;coming&&!1!==F.trigger("onCancel")&&(F.hideLoading(),F.ajaxLoad&&F.ajaxLoad.abort(),F.ajaxLoad=null,F.imgPreload&&(F.imgPreload.onload=F.imgPreload.onerror=null),coming.wrap&&coming.wrap.stop(!0,!0).trigger("onReset").remove(),F.coming=null,F.current||F._afterZoomOut(coming))},close:function(event){F.cancel(),!1!==F.trigger("beforeClose")&&(F.unbindEvents(),F.isActive&&(F.isOpen&&event!==!0?(F.isOpen=F.isOpened=!1,F.isClosing=!0,$(".fancybox-item, .fancybox-nav").remove(),F.wrap.stop(!0,!0).removeClass("fancybox-opened"),F.transitions[F.current.closeMethod]()):($(".fancybox-wrap").stop(!0).trigger("onReset").remove(),F._afterZoomOut())))},play:function(action){var clear=function(){clearTimeout(F.player.timer)},set=function(){clear(),F.current&&F.player.isActive&&(F.player.timer=setTimeout(F.next,F.current.playSpeed))},stop=function(){clear(),D.unbind(".player"),F.player.isActive=!1,F.trigger("onPlayEnd")},start=function(){F.current&&(F.current.loop||F.current.index<F.group.length-1)&&(F.player.isActive=!0,D.bind({"onCancel.player beforeClose.player":stop,"onUpdate.player":set,"beforeLoad.player":clear}),set(),F.trigger("onPlayStart"))};action===!0||!F.player.isActive&&action!==!1?start():stop()},next:function(direction){var current=F.current;current&&(isString(direction)||(direction=current.direction.next),F.jumpto(current.index+1,direction,"next"))},prev:function(direction){var current=F.current;current&&(isString(direction)||(direction=current.direction.prev),F.jumpto(current.index-1,direction,"prev"))},jumpto:function(index,direction,router){var current=F.current;current&&(index=getScalar(index),F.direction=direction||current.direction[index>=current.index?"next":"prev"],F.router=router||"jumpto",current.loop&&(0>index&&(index=current.group.length+index%current.group.length),index%=current.group.length),current.group[index]!==undefined&&(F.cancel(),F._start(index)))},reposition:function(e,onlyAbsolute){var pos,current=F.current,wrap=current?current.wrap:null;wrap&&(pos=F._getPosition(onlyAbsolute),e&&"scroll"===e.type?(delete pos.position,wrap.stop(!0,!0).animate(pos,200)):(wrap.css(pos),current.pos=$.extend({},current.dim,pos)))},update:function(e){var type=e&&e.type,anyway=!type||"orientationchange"===type;anyway&&(clearTimeout(didUpdate),didUpdate=null),F.isOpen&&!didUpdate&&(didUpdate=setTimeout(function(){var current=F.current;current&&!F.isClosing&&(F.wrap.removeClass("fancybox-tmp"),(anyway||"load"===type||"resize"===type&&current.autoResize)&&F._setDimension(),"scroll"===type&&current.canShrink||F.reposition(e),F.trigger("onUpdate"),didUpdate=null)},anyway&&!isTouch?0:300))},toggle:function(action){F.isOpen&&(F.current.fitToView="boolean"===$.type(action)?action:!F.current.fitToView,isTouch&&(F.wrap.removeAttr("style").addClass("fancybox-tmp"),F.trigger("onUpdate")),F.update())},hideLoading:function(){D.unbind(".loading"),$("#fancybox-loading").remove()},showLoading:function(){var el,viewport;F.hideLoading(),el=$('<div id="fancybox-loading"><div></div></div>').click(F.cancel).appendTo("body"),D.bind("keydown.loading",function(e){27===(e.which||e.keyCode)&&(e.preventDefault(),F.cancel())}),F.defaults.fixed||(viewport=F.getViewport(),el.css({position:"absolute",top:.5*viewport.h+viewport.y,left:.5*viewport.w+viewport.x}))},getViewport:function(){var locked=F.current&&F.current.locked||!1,rez={x:W.scrollLeft(),y:W.scrollTop()};return locked?(rez.w=locked[0].clientWidth,rez.h=locked[0].clientHeight):(rez.w=isTouch&&window.innerWidth?window.innerWidth:W.width(),rez.h=isTouch&&window.innerHeight?window.innerHeight:W.height()),rez},unbindEvents:function(){F.wrap&&isQuery(F.wrap)&&F.wrap.unbind(".fb"),D.unbind(".fb"),W.unbind(".fb")},bindEvents:function(){var keys,current=F.current;current&&(W.bind("orientationchange.fb"+(isTouch?"":" resize.fb")+(current.autoCenter&&!current.locked?" scroll.fb":""),F.update),keys=current.keys,keys&&D.bind("keydown.fb",function(e){var code=e.which||e.keyCode,target=e.target||e.srcElement;return 27===code&&F.coming?!1:void(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||target&&(target.type||$(target).is("[contenteditable]"))||$.each(keys,function(i,val){return current.group.length>1&&val[code]!==undefined?(F[i](val[code]),e.preventDefault(),!1):$.inArray(code,val)>-1?(F[i](),e.preventDefault(),!1):void 0}))}),$.fn.mousewheel&&current.mouseWheel&&F.wrap.bind("mousewheel.fb",function(e,delta,deltaX,deltaY){for(var target=e.target||null,parent=$(target),canScroll=!1;parent.length&&!(canScroll||parent.is(".fancybox-skin")||parent.is(".fancybox-wrap"));)canScroll=isScrollable(parent[0]),parent=$(parent).parent();0===delta||canScroll||F.group.length>1&&!current.canShrink&&(deltaY>0||deltaX>0?F.prev(deltaY>0?"down":"left"):(0>deltaY||0>deltaX)&&F.next(0>deltaY?"up":"right"),e.preventDefault())}))},trigger:function(event,o){var ret,obj=o||F.coming||F.current;if(obj){if($.isFunction(obj[event])&&(ret=obj[event].apply(obj,Array.prototype.slice.call(arguments,1))),ret===!1)return!1;obj.helpers&&$.each(obj.helpers,function(helper,opts){opts&&F.helpers[helper]&&$.isFunction(F.helpers[helper][event])&&F.helpers[helper][event]($.extend(!0,{},F.helpers[helper].defaults,opts),obj)}),D.trigger(event)}},isImage:function(str){return isString(str)&&str.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(str){return isString(str)&&str.match(/\.(swf)((\?|#).*)?$/i)},_start:function(index){var obj,href,type,margin,padding,coming={};if(index=getScalar(index),obj=F.group[index]||null,!obj)return!1;if(coming=$.extend(!0,{},F.opts,obj),margin=coming.margin,padding=coming.padding,"number"===$.type(margin)&&(coming.margin=[margin,margin,margin,margin]),"number"===$.type(padding)&&(coming.padding=[padding,padding,padding,padding]),coming.modal&&$.extend(!0,coming,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),coming.autoSize&&(coming.autoWidth=coming.autoHeight=!0),"auto"===coming.width&&(coming.autoWidth=!0),"auto"===coming.height&&(coming.autoHeight=!0),coming.group=F.group,coming.index=index,F.coming=coming,!1===F.trigger("beforeLoad"))return void(F.coming=null);if(type=coming.type,href=coming.href,!type)return F.coming=null,F.current&&F.router&&"jumpto"!==F.router?(F.current.index=index,F[F.router](F.direction)):!1;if(F.isActive=!0,("image"===type||"swf"===type)&&(coming.autoHeight=coming.autoWidth=!1,coming.scrolling="visible"),"image"===type&&(coming.aspectRatio=!0),"iframe"===type&&isTouch&&(coming.scrolling="scroll"),coming.wrap=$(coming.tpl.wrap).addClass("fancybox-"+(isTouch?"mobile":"desktop")+" fancybox-type-"+type+" fancybox-tmp "+coming.wrapCSS).appendTo(coming.parent||"body"),$.extend(coming,{skin:$(".fancybox-skin",coming.wrap),outer:$(".fancybox-outer",coming.wrap),inner:$(".fancybox-inner",coming.wrap)}),$.each(["Top","Right","Bottom","Left"],function(i,v){coming.skin.css("padding"+v,getValue(coming.padding[i]))}),F.trigger("onReady"),"inline"===type||"html"===type){if(!coming.content||!coming.content.length)return F._error("content")}else if(!href)return F._error("href");"image"===type?F._loadImage():"ajax"===type?F._loadAjax():"iframe"===type?F._loadIframe():F._afterLoad()},_error:function(type){$.extend(F.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:type,content:F.coming.tpl.error}),F._afterLoad()},_loadImage:function(){var img=F.imgPreload=new Image;img.onload=function(){this.onload=this.onerror=null,F.coming.width=this.width/F.opts.pixelRatio,F.coming.height=this.height/F.opts.pixelRatio,F._afterLoad()},img.onerror=function(){this.onload=this.onerror=null,F._error("image")},img.src=F.coming.href,img.complete!==!0&&F.showLoading()},_loadAjax:function(){var coming=F.coming;F.showLoading(),F.ajaxLoad=$.ajax($.extend({},coming.ajax,{url:coming.href,error:function(jqXHR,textStatus){F.coming&&"abort"!==textStatus?F._error("ajax",jqXHR):F.hideLoading()},success:function(data,textStatus){"success"===textStatus&&(coming.content=data,F._afterLoad())}}))},_loadIframe:function(){var coming=F.coming,iframe=$(coming.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",isTouch?"auto":coming.iframe.scrolling).attr("src",coming.href);$(coming.wrap).bind("onReset",function(){try{$(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}}),coming.iframe.preload&&(F.showLoading(),iframe.one("load",function(){$(this).data("ready",1),isTouch||$(this).bind("load.fb",F.update),$(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),F._afterLoad()})),coming.content=iframe.appendTo(coming.inner),coming.iframe.preload||F._afterLoad()},_preloadImages:function(){var item,i,group=F.group,current=F.current,len=group.length,cnt=current.preload?Math.min(current.preload,len-1):0;for(i=1;cnt>=i;i+=1)item=group[(current.index+i)%len],"image"===item.type&&item.href&&((new Image).src=item.href)},_afterLoad:function(){var current,content,type,scrolling,href,embed,coming=F.coming,previous=F.current,placeholder="fancybox-placeholder";if(F.hideLoading(),coming&&F.isActive!==!1){if(!1===F.trigger("afterLoad",coming,previous))return coming.wrap.stop(!0).trigger("onReset").remove(),void(F.coming=null);switch(previous&&(F.trigger("beforeChange",previous),previous.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),F.unbindEvents(),current=coming,content=coming.content,type=coming.type,scrolling=coming.scrolling,$.extend(F,{wrap:current.wrap,skin:current.skin,outer:current.outer,inner:current.inner,current:current,previous:previous}),href=current.href,type){case"inline":case"ajax":case"html":current.selector?content=$("<div>").html(content).find(current.selector):isQuery(content)&&(content.data(placeholder)||content.data(placeholder,$('<div class="'+placeholder+'"></div>').insertAfter(content).hide()),content=content.show().detach(),current.wrap.bind("onReset",function(){$(this).find(content).length&&content.hide().replaceAll(content.data(placeholder)).data(placeholder,!1)}));break;case"image":content=current.tpl.image.replace("{href}",href);break;case"swf":content='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+href+'"></param>',embed="",$.each(current.swf,function(name,val){content+='<param name="'+name+'" value="'+val+'"></param>',embed+=" "+name+'="'+val+'"'}),content+='<embed src="'+href+'" type="application/x-shockwave-flash" width="100%" height="100%"'+embed+"></embed></object>"}isQuery(content)&&content.parent().is(current.inner)||current.inner.append(content),F.trigger("beforeShow"),current.inner.css("overflow","yes"===scrolling?"scroll":"no"===scrolling?"hidden":scrolling),F._setDimension(),F.reposition(),F.isOpen=!1,F.coming=null,F.bindEvents(),F.isOpened?previous.prevMethod&&F.transitions[previous.prevMethod]():$(".fancybox-wrap").not(current.wrap).stop(!0).trigger("onReset").remove(),
F.transitions[F.isOpened?current.nextMethod:current.openMethod](),F._preloadImages()}},_setDimension:function(){var wPadding,hPadding,wSpace,hSpace,origWidth,origHeight,origMaxWidth,origMaxHeight,ratio,width_,height_,maxWidth_,maxHeight_,iframe,body,viewport=F.getViewport(),steps=0,canShrink=!1,canExpand=!1,wrap=F.wrap,skin=F.skin,inner=F.inner,current=F.current,width=current.width,height=current.height,minWidth=current.minWidth,minHeight=current.minHeight,maxWidth=current.maxWidth,maxHeight=current.maxHeight,scrolling=current.scrolling,scrollOut=current.scrollOutside?current.scrollbarWidth:0,margin=current.margin,wMargin=getScalar(margin[1]+margin[3]),hMargin=getScalar(margin[0]+margin[2]);if(wrap.add(skin).add(inner).width("auto").height("auto").removeClass("fancybox-tmp"),wPadding=getScalar(skin.outerWidth(!0)-skin.width()),hPadding=getScalar(skin.outerHeight(!0)-skin.height()),wSpace=wMargin+wPadding,hSpace=hMargin+hPadding,origWidth=isPercentage(width)?(viewport.w-wSpace)*getScalar(width)/100:width,origHeight=isPercentage(height)?(viewport.h-hSpace)*getScalar(height)/100:height,"iframe"===current.type){if(iframe=current.content,current.autoHeight&&1===iframe.data("ready"))try{iframe[0].contentWindow.document.location&&(inner.width(origWidth).height(9999),body=iframe.contents().find("body"),scrollOut&&body.css("overflow-x","hidden"),origHeight=body.outerHeight(!0))}catch(e){}}else(current.autoWidth||current.autoHeight)&&(inner.addClass("fancybox-tmp"),current.autoWidth||inner.width(origWidth),current.autoHeight||inner.height(origHeight),current.autoWidth&&(origWidth=inner.width()),current.autoHeight&&(origHeight=inner.height()),inner.removeClass("fancybox-tmp"));if(width=getScalar(origWidth),height=getScalar(origHeight),ratio=origWidth/origHeight,minWidth=getScalar(isPercentage(minWidth)?getScalar(minWidth,"w")-wSpace:minWidth),maxWidth=getScalar(isPercentage(maxWidth)?getScalar(maxWidth,"w")-wSpace:maxWidth),minHeight=getScalar(isPercentage(minHeight)?getScalar(minHeight,"h")-hSpace:minHeight),maxHeight=getScalar(isPercentage(maxHeight)?getScalar(maxHeight,"h")-hSpace:maxHeight),origMaxWidth=maxWidth,origMaxHeight=maxHeight,current.fitToView&&(maxWidth=Math.min(viewport.w-wSpace,maxWidth),maxHeight=Math.min(viewport.h-hSpace,maxHeight)),maxWidth_=viewport.w-wMargin,maxHeight_=viewport.h-hMargin,current.aspectRatio?(width>maxWidth&&(width=maxWidth,height=getScalar(width/ratio)),height>maxHeight&&(height=maxHeight,width=getScalar(height*ratio)),minWidth>width&&(width=minWidth,height=getScalar(width/ratio)),minHeight>height&&(height=minHeight,width=getScalar(height*ratio))):(width=Math.max(minWidth,Math.min(width,maxWidth)),current.autoHeight&&"iframe"!==current.type&&(inner.width(width),height=inner.height()),height=Math.max(minHeight,Math.min(height,maxHeight))),current.fitToView)if(inner.width(width).height(height),wrap.width(width+wPadding),width_=wrap.width(),height_=wrap.height(),current.aspectRatio)for(;(width_>maxWidth_||height_>maxHeight_)&&width>minWidth&&height>minHeight&&!(steps++>19);)height=Math.max(minHeight,Math.min(maxHeight,height-10)),width=getScalar(height*ratio),minWidth>width&&(width=minWidth,height=getScalar(width/ratio)),width>maxWidth&&(width=maxWidth,height=getScalar(width/ratio)),inner.width(width).height(height),wrap.width(width+wPadding),width_=wrap.width(),height_=wrap.height();else width=Math.max(minWidth,Math.min(width,width-(width_-maxWidth_))),height=Math.max(minHeight,Math.min(height,height-(height_-maxHeight_)));scrollOut&&"auto"===scrolling&&origHeight>height&&maxWidth_>width+wPadding+scrollOut&&(width+=scrollOut),inner.width(width).height(height),wrap.width(width+wPadding),width_=wrap.width(),height_=wrap.height(),canShrink=(width_>maxWidth_||height_>maxHeight_)&&width>minWidth&&height>minHeight,canExpand=current.aspectRatio?origMaxWidth>width&&origMaxHeight>height&&origWidth>width&&origHeight>height:(origMaxWidth>width||origMaxHeight>height)&&(origWidth>width||origHeight>height),$.extend(current,{dim:{width:getValue(width_),height:getValue(height_)},origWidth:origWidth,origHeight:origHeight,canShrink:canShrink,canExpand:canExpand,wPadding:wPadding,hPadding:hPadding,wrapSpace:height_-skin.outerHeight(!0),skinSpace:skin.height()-height}),!iframe&&current.autoHeight&&height>minHeight&&maxHeight>height&&!canExpand&&inner.height("auto")},_getPosition:function(onlyAbsolute){var current=F.current,viewport=F.getViewport(),margin=current.margin,width=F.wrap.width()+margin[1]+margin[3],height=F.wrap.height()+margin[0]+margin[2],rez={position:"absolute",top:margin[0],left:margin[3]};return current.autoCenter&&current.fixed&&!onlyAbsolute&&height<=viewport.h&&width<=viewport.w?rez.position="fixed":current.locked||(rez.top+=viewport.y,rez.left+=viewport.x),rez.top=getValue(Math.max(rez.top,rez.top+(viewport.h-height)*current.topRatio)),rez.left=getValue(Math.max(rez.left,rez.left+(viewport.w-width)*current.leftRatio)),rez},_afterZoomIn:function(){var current=F.current;current&&(F.isOpen=F.isOpened=!0,F.wrap.css("overflow","visible").addClass("fancybox-opened"),F.update(),(current.closeClick||current.nextClick&&F.group.length>1)&&F.inner.css("cursor","pointer").bind("click.fb",function(e){$(e.target).is("a")||$(e.target).parent().is("a")||(e.preventDefault(),F[current.closeClick?"close":"next"]())}),current.closeBtn&&$(current.tpl.closeBtn).appendTo(F.skin).bind("click.fb",function(e){e.preventDefault(),F.close()}),current.arrows&&F.group.length>1&&((current.loop||current.index>0)&&$(current.tpl.prev).appendTo(F.outer).bind("click.fb",F.prev),(current.loop||current.index<F.group.length-1)&&$(current.tpl.next).appendTo(F.outer).bind("click.fb",F.next)),F.trigger("afterShow"),current.loop||current.index!==current.group.length-1?F.opts.autoPlay&&!F.player.isActive&&(F.opts.autoPlay=!1,F.play()):F.play(!1))},_afterZoomOut:function(obj){obj=obj||F.current,$(".fancybox-wrap").trigger("onReset").remove(),$.extend(F,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),F.trigger("afterClose",obj)}}),F.transitions={getOrigPosition:function(){var current=F.current,element=current.element,orig=current.orig,pos={},width=50,height=50,hPadding=current.hPadding,wPadding=current.wPadding,viewport=F.getViewport();return!orig&&current.isDom&&element.is(":visible")&&(orig=element.find("img:first"),orig.length||(orig=element)),isQuery(orig)?(pos=orig.offset(),orig.is("img")&&(width=orig.outerWidth(),height=orig.outerHeight())):(pos.top=viewport.y+(viewport.h-height)*current.topRatio,pos.left=viewport.x+(viewport.w-width)*current.leftRatio),("fixed"===F.wrap.css("position")||current.locked)&&(pos.top-=viewport.y,pos.left-=viewport.x),pos={top:getValue(pos.top-hPadding*current.topRatio),left:getValue(pos.left-wPadding*current.leftRatio),width:getValue(width+wPadding),height:getValue(height+hPadding)}},step:function(now,fx){var ratio,padding,value,prop=fx.prop,current=F.current,wrapSpace=current.wrapSpace,skinSpace=current.skinSpace;("width"===prop||"height"===prop)&&(ratio=fx.end===fx.start?1:(now-fx.start)/(fx.end-fx.start),F.isClosing&&(ratio=1-ratio),padding="width"===prop?current.wPadding:current.hPadding,value=now-padding,F.skin[prop](getScalar("width"===prop?value:value-wrapSpace*ratio)),F.inner[prop](getScalar("width"===prop?value:value-wrapSpace*ratio-skinSpace*ratio)))},zoomIn:function(){var current=F.current,startPos=current.pos,effect=current.openEffect,elastic="elastic"===effect,endPos=$.extend({opacity:1},startPos);delete endPos.position,elastic?(startPos=this.getOrigPosition(),current.openOpacity&&(startPos.opacity=.1)):"fade"===effect&&(startPos.opacity=.1),F.wrap.css(startPos).animate(endPos,{duration:"none"===effect?0:current.openSpeed,easing:current.openEasing,step:elastic?this.step:null,complete:F._afterZoomIn})},zoomOut:function(){var current=F.current,effect=current.closeEffect,elastic="elastic"===effect,endPos={opacity:.1};elastic&&(endPos=this.getOrigPosition(),current.closeOpacity&&(endPos.opacity=.1)),F.wrap.animate(endPos,{duration:"none"===effect?0:current.closeSpeed,easing:current.closeEasing,step:elastic?this.step:null,complete:F._afterZoomOut})},changeIn:function(){var field,current=F.current,effect=current.nextEffect,startPos=current.pos,endPos={opacity:1},direction=F.direction,distance=200;startPos.opacity=.1,"elastic"===effect&&(field="down"===direction||"up"===direction?"top":"left","down"===direction||"right"===direction?(startPos[field]=getValue(getScalar(startPos[field])-distance),endPos[field]="+="+distance+"px"):(startPos[field]=getValue(getScalar(startPos[field])+distance),endPos[field]="-="+distance+"px")),"none"===effect?F._afterZoomIn():F.wrap.css(startPos).animate(endPos,{duration:current.nextSpeed,easing:current.nextEasing,complete:F._afterZoomIn})},changeOut:function(){var previous=F.previous,effect=previous.prevEffect,endPos={opacity:.1},direction=F.direction,distance=200;"elastic"===effect&&(endPos["down"===direction||"up"===direction?"top":"left"]=("up"===direction||"left"===direction?"-":"+")+"="+distance+"px"),previous.wrap.animate(endPos,{duration:"none"===effect?0:previous.prevSpeed,easing:previous.prevEasing,complete:function(){$(this).trigger("onReset").remove()}})}},F.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!isTouch,fixed:!0},overlay:null,fixed:!1,el:$("html"),create:function(opts){opts=$.extend({},this.defaults,opts),this.overlay&&this.close(),this.overlay=$('<div class="fancybox-overlay"></div>').appendTo(F.coming?F.coming.parent:opts.parent),this.fixed=!1,opts.fixed&&F.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(opts){var that=this;opts=$.extend({},this.defaults,opts),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(opts),this.fixed||(W.bind("resize.overlay",$.proxy(this.update,this)),this.update()),opts.closeClick&&this.overlay.bind("click.overlay",function(e){return $(e.target).hasClass("fancybox-overlay")?(F.isActive?F.close():that.close(),!1):void 0}),this.overlay.css(opts.css).show()},close:function(){var scrollV,scrollH;W.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&($(".fancybox-margin").removeClass("fancybox-margin"),scrollV=W.scrollTop(),scrollH=W.scrollLeft(),this.el.removeClass("fancybox-lock"),W.scrollTop(scrollV).scrollLeft(scrollH)),$(".fancybox-overlay").remove().hide(),$.extend(this,{overlay:null,fixed:!1})},update:function(){var offsetWidth,width="100%";this.overlay.width(width).height("100%"),IE?(offsetWidth=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),D.width()>offsetWidth&&(width=D.width())):D.width()>W.width()&&(width=D.width()),this.overlay.width(width).height(D.height())},onReady:function(opts,obj){var overlay=this.overlay;$(".fancybox-overlay").stop(!0,!0),overlay||this.create(opts),opts.locked&&this.fixed&&obj.fixed&&(overlay||(this.margin=D.height()>W.height()?$("html").css("margin-right").replace("px",""):!1),obj.locked=this.overlay.append(obj.wrap),obj.fixed=!1),opts.showEarly===!0&&this.beforeShow.apply(this,arguments)},beforeShow:function(opts,obj){var scrollV,scrollH;obj.locked&&(this.margin!==!1&&($("*").filter(function(){return"fixed"===$(this).css("position")&&!$(this).hasClass("fancybox-overlay")&&!$(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),scrollV=W.scrollTop(),scrollH=W.scrollLeft(),this.el.addClass("fancybox-lock"),W.scrollTop(scrollV).scrollLeft(scrollH)),this.open(opts)},onUpdate:function(){this.fixed||this.update()},afterClose:function(opts){this.overlay&&!F.coming&&this.overlay.fadeOut(opts.speedOut,$.proxy(this.close,this))}},F.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(opts){var title,target,current=F.current,text=current.title,type=opts.type;if($.isFunction(text)&&(text=text.call(current.element,current)),isString(text)&&""!==$.trim(text)){switch(title=$('<div class="fancybox-title fancybox-title-'+type+'-wrap">'+text+"</div>"),type){case"inside":target=F.skin;break;case"outside":target=F.wrap;break;case"over":target=F.inner;break;default:target=F.skin,title.appendTo("body"),IE&&title.width(title.width()),title.wrapInner('<span class="child"></span>'),F.current.margin[2]+=Math.abs(getScalar(title.css("margin-bottom")))}title["top"===opts.position?"prependTo":"appendTo"](target)}}},$.fn.fancybox=function(options){var index,that=$(this),selector=this.selector||"",run=function(e){var relType,relVal,what=$(this).blur(),idx=index;e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||what.is(".fancybox-wrap")||(relType=options.groupAttr||"data-fancybox-group",relVal=what.attr(relType),relVal||(relType="rel",relVal=what.get(0)[relType]),relVal&&""!==relVal&&"nofollow"!==relVal&&(what=selector.length?$(selector):that,what=what.filter("["+relType+'="'+relVal+'"]'),idx=what.index(this)),options.index=idx,F.open(what,options)!==!1&&e.preventDefault())};return options=options||{},index=options.index||0,selector&&options.live!==!1?D.undelegate(selector,"click.fb-start").delegate(selector+":not('.fancybox-item, .fancybox-nav')","click.fb-start",run):that.unbind("click.fb-start").bind("click.fb-start",run),this.filter("[data-fancybox-start=1]").trigger("click"),this},D.ready(function(){var w1,w2;$.scrollbarWidth===undefined&&($.scrollbarWidth=function(){var parent=$('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),child=parent.children(),width=child.innerWidth()-child.height(99).innerWidth();return parent.remove(),width}),$.support.fixedPosition===undefined&&($.support.fixedPosition=function(){var elem=$('<div style="position:fixed;top:20px;"></div>').appendTo("body"),fixed=20===elem[0].offsetTop||15===elem[0].offsetTop;return elem.remove(),fixed}()),$.extend(F.defaults,{scrollbarWidth:$.scrollbarWidth(),fixed:$.support.fixedPosition,parent:$("body")}),w1=$(window).width(),H.addClass("fancybox-lock-test"),w2=$(window).width(),H.removeClass("fancybox-lock-test"),$("<style type='text/css'>.fancybox-margin{margin-right:"+(w2-w1)+"px;}</style>").appendTo("head")})}(window,document,jQuery),function($){"use strict";$.fn.menubile=function(options){{var ua=navigator.userAgent,$this=(ua.match(/iPad/i)?"touchend":"click",$.extend({slidePosition:""},options),$(this)),menubileNav=$(".nav").clone().addClass("menubile-nav").prependTo("body"),menubileContent=$(".wrapper").addClass("menubile-content");$("body").addClass("menubile-bound")}return $this.on("click",function(e){e.stopPropagation(),e.preventDefault(),menubileNav.toggleClass("menubile-nav-open"),menubileContent.toggleClass("menubile-content-close")}),$("body").on("click",".menubile-content-close",function(){$(".menubile-nav-open").toggleClass("menubile-nav-open"),$(".menubile-content-close").toggleClass("menubile-content-close")}),$this}}(jQuery),function($,w,undefined){"use strict";function Sly(frame,options,callbackMap){function load(isInit){var lastItemsCount=0,lastPagesCount=pages.length;if(pos.old=$.extend({},pos),frameSize=parallax?0:$frame[o.horizontal?"width":"height"](),sbSize=$sb[o.horizontal?"width":"height"](),slideeSize=parallax?frame:$slidee[o.horizontal?"outerWidth":"outerHeight"](),pages.length=0,pos.start=0,pos.end=max(slideeSize-frameSize,0),itemNav){lastItemsCount=items.length,$items=$slidee.children(o.itemSelector),items.length=0;var lastItem,paddingStart=getPx($slidee,o.horizontal?"paddingLeft":"paddingTop"),paddingEnd=getPx($slidee,o.horizontal?"paddingRight":"paddingBottom"),borderBox="border-box"===$($items).css("boxSizing"),areFloated="none"!==$items.css("float"),ignoredMargin=0,lastItemIndex=$items.length-1;slideeSize=0,$items.each(function(i,element){var $item=$(element),rect=element.getBoundingClientRect(),itemSize=round(o.horizontal?rect.width||rect.right-rect.left:rect.height||rect.bottom-rect.top),itemMarginStart=getPx($item,o.horizontal?"marginLeft":"marginTop"),itemMarginEnd=getPx($item,o.horizontal?"marginRight":"marginBottom"),itemSizeFull=itemSize+itemMarginStart+itemMarginEnd,singleSpaced=!itemMarginStart||!itemMarginEnd,item={};item.el=element,item.size=singleSpaced?itemSize:itemSizeFull,item.half=item.size/2,item.start=slideeSize+(singleSpaced?itemMarginStart:0),item.center=item.start-round(frameSize/2-item.size/2),item.end=item.start-frameSize+item.size,i||(slideeSize+=paddingStart),slideeSize+=itemSizeFull,o.horizontal||areFloated||itemMarginEnd&&itemMarginStart&&i>0&&(slideeSize-=min(itemMarginStart,itemMarginEnd)),i===lastItemIndex&&(item.end+=paddingEnd,slideeSize+=paddingEnd,ignoredMargin=singleSpaced?itemMarginEnd:0),items.push(item),lastItem=item}),$slidee[0].style[o.horizontal?"width":"height"]=(borderBox?slideeSize:slideeSize-paddingStart-paddingEnd)+"px",slideeSize-=ignoredMargin,items.length?(pos.start=items[0][forceCenteredNav?"center":"start"],pos.end=forceCenteredNav?lastItem.center:slideeSize>frameSize?lastItem.end:pos.start):pos.start=pos.end=0}if(pos.center=round(pos.end/2+pos.start/2),updateRelatives(),$handle.length&&sbSize>0&&(o.dynamicHandle?(handleSize=pos.start===pos.end?sbSize:round(sbSize*frameSize/slideeSize),handleSize=within(handleSize,o.minHandleSize,sbSize),$handle[0].style[o.horizontal?"width":"height"]=handleSize+"px"):handleSize=$handle[o.horizontal?"outerWidth":"outerHeight"](),hPos.end=sbSize-handleSize,renderID||syncScrollbar()),!parallax&&frameSize>0){var tempPagePos=pos.start,pagesHtml="";if(itemNav)$.each(items,function(i,item){forceCenteredNav?pages.push(item.center):item.start+item.size>tempPagePos&&tempPagePos<=pos.end&&(tempPagePos=item.start,pages.push(tempPagePos),tempPagePos+=frameSize,tempPagePos>pos.end&&tempPagePos<pos.end+frameSize&&pages.push(pos.end))});else for(;tempPagePos-frameSize<pos.end;)pages.push(tempPagePos),tempPagePos+=frameSize;if($pb[0]&&lastPagesCount!==pages.length){for(var i=0;i<pages.length;i++)pagesHtml+=o.pageBuilder.call(self,i);$pages=$pb.html(pagesHtml).children(),$pages.eq(rel.activePage).addClass(o.activeClass)}}if(rel.slideeSize=slideeSize,rel.frameSize=frameSize,rel.sbSize=sbSize,rel.handleSize=handleSize,itemNav){isInit&&null!=o.startAt&&(activate(o.startAt),self[centeredNav?"toCenter":"toStart"](o.startAt));var activeItem=items[rel.activeItem];slideTo(centeredNav&&activeItem?activeItem.center:within(pos.dest,pos.start,pos.end))}else isInit?null!=o.startAt&&slideTo(o.startAt,1):slideTo(within(pos.dest,pos.start,pos.end));trigger("load")}function slideTo(newPos,immediate,dontAlign){if(itemNav&&dragging.released&&!dontAlign){var tempRel=getRelatives(newPos),isNotBordering=newPos>pos.start&&newPos<pos.end;centeredNav?(isNotBordering&&(newPos=items[tempRel.centerItem].center),forceCenteredNav&&o.activateMiddle&&activate(tempRel.centerItem)):isNotBordering&&(newPos=items[tempRel.firstItem].start)}dragging.init&&dragging.slidee&&o.elasticBounds?newPos>pos.end?newPos=pos.end+(newPos-pos.end)/6:newPos<pos.start&&(newPos=pos.start+(newPos-pos.start)/6):newPos=within(newPos,pos.start,pos.end),animation.start=+new Date,animation.time=0,animation.from=pos.cur,animation.to=newPos,animation.delta=newPos-pos.cur,animation.tweesing=dragging.tweese||dragging.init&&!dragging.slidee,animation.immediate=!animation.tweesing&&(immediate||dragging.init&&dragging.slidee||!o.speed),dragging.tweese=0,newPos!==pos.dest&&(pos.dest=newPos,trigger("change"),renderID||render()),resetCycle(),updateRelatives(),updateButtonsState(),syncPagesbar()}function render(){if(self.initialized){if(!renderID)return renderID=rAF(render),void(dragging.released&&trigger("moveStart"));animation.immediate?pos.cur=animation.to:animation.tweesing?(animation.tweeseDelta=animation.to-pos.cur,abs(animation.tweeseDelta)<.1?pos.cur=animation.to:pos.cur+=animation.tweeseDelta*(dragging.released?o.swingSpeed:o.syncSpeed)):(animation.time=min(+new Date-animation.start,o.speed),pos.cur=animation.from+animation.delta*$.easing[o.easing](animation.time/o.speed,animation.time,0,1,o.speed)),animation.to===pos.cur?(pos.cur=animation.to,dragging.tweese=renderID=0):renderID=rAF(render),trigger("move"),parallax||(transform?$slidee[0].style[transform]=gpuAcceleration+(o.horizontal?"translateX":"translateY")+"("+-pos.cur+"px)":$slidee[0].style[o.horizontal?"left":"top"]=-round(pos.cur)+"px"),!renderID&&dragging.released&&trigger("moveEnd"),syncScrollbar()}}function syncScrollbar(){$handle.length&&(hPos.cur=pos.start===pos.end?0:((dragging.init&&!dragging.slidee?pos.dest:pos.cur)-pos.start)/(pos.end-pos.start)*hPos.end,hPos.cur=within(round(hPos.cur),hPos.start,hPos.end),last.hPos!==hPos.cur&&(last.hPos=hPos.cur,transform?$handle[0].style[transform]=gpuAcceleration+(o.horizontal?"translateX":"translateY")+"("+hPos.cur+"px)":$handle[0].style[o.horizontal?"left":"top"]=hPos.cur+"px"))}function syncPagesbar(){$pages[0]&&last.page!==rel.activePage&&(last.page=rel.activePage,$pages.removeClass(o.activeClass).eq(rel.activePage).addClass(o.activeClass),trigger("activePage",last.page))}function moveLoop(){move.speed&&pos.cur!==(move.speed>0?pos.end:pos.start)||self.stop(),continuousID=dragging.init?rAF(moveLoop):0,move.now=+new Date,move.pos=pos.cur+(move.now-move.lastTime)/1e3*move.speed,slideTo(dragging.init?move.pos:round(move.pos)),dragging.init||pos.cur!==pos.dest||trigger("moveEnd"),move.lastTime=move.now}function to(location,item,immediate){if("boolean"===type(item)&&(immediate=item,item=undefined),item===undefined)slideTo(pos[location],immediate);else{if(centeredNav&&"center"!==location)return;var itemPos=self.getPos(item);itemPos&&slideTo(itemPos[location],immediate,!centeredNav)}}function getIndex(item){return null!=item?isNumber(item)?item>=0&&item<items.length?item:-1:$items.index(item):-1}function getRelativeIndex(item){return getIndex(isNumber(item)&&0>item?item+items.length:item)}function activate(item,force){var index=getIndex(item);return!itemNav||0>index?!1:((last.active!==index||force)&&($items.eq(rel.activeItem).removeClass(o.activeClass),$items.eq(index).addClass(o.activeClass),last.active=rel.activeItem=index,updateButtonsState(),trigger("active",index)),index)}function getRelatives(slideePos){slideePos=within(isNumber(slideePos)?slideePos:pos.dest,pos.start,pos.end);var relatives={},centerOffset=forceCenteredNav?0:frameSize/2;if(!parallax)for(var p=0,pl=pages.length;pl>p;p++){if(slideePos>=pos.end||p===pages.length-1){relatives.activePage=pages.length-1;break}if(slideePos<=pages[p]+centerOffset){relatives.activePage=p;break}}if(itemNav){for(var first=!1,last=!1,center=!1,i=0,il=items.length;il>i;i++)if(first===!1&&slideePos<=items[i].start+items[i].half&&(first=i),center===!1&&slideePos<=items[i].center+items[i].half&&(center=i),i===il-1||slideePos<=items[i].end+items[i].half){last=i;break}relatives.firstItem=isNumber(first)?first:0,relatives.centerItem=isNumber(center)?center:relatives.firstItem,relatives.lastItem=isNumber(last)?last:relatives.centerItem}return relatives}function updateRelatives(newPos){$.extend(rel,getRelatives(newPos))}function updateButtonsState(){var isStart=pos.dest<=pos.start,isEnd=pos.dest>=pos.end,slideePosState=(isStart?1:0)|(isEnd?2:0);if(last.slideePosState!==slideePosState&&(last.slideePosState=slideePosState,$prevPageButton.is("button,input")&&$prevPageButton.prop("disabled",isStart),$nextPageButton.is("button,input")&&$nextPageButton.prop("disabled",isEnd),$prevPageButton.add($backwardButton)[isStart?"addClass":"removeClass"](o.disabledClass),$nextPageButton.add($forwardButton)[isEnd?"addClass":"removeClass"](o.disabledClass)),last.fwdbwdState!==slideePosState&&dragging.released&&(last.fwdbwdState=slideePosState,$backwardButton.is("button,input")&&$backwardButton.prop("disabled",isStart),$forwardButton.is("button,input")&&$forwardButton.prop("disabled",isEnd)),itemNav&&null!=rel.activeItem){var isFirst=0===rel.activeItem,isLast=rel.activeItem>=items.length-1,itemsButtonState=(isFirst?1:0)|(isLast?2:0);last.itemsButtonState!==itemsButtonState&&(last.itemsButtonState=itemsButtonState,$prevButton.is("button,input")&&$prevButton.prop("disabled",isFirst),$nextButton.is("button,input")&&$nextButton.prop("disabled",isLast),$prevButton[isFirst?"addClass":"removeClass"](o.disabledClass),$nextButton[isLast?"addClass":"removeClass"](o.disabledClass))}}function moveItem(item,position,after){if(item=getRelativeIndex(item),position=getRelativeIndex(position),item>-1&&position>-1&&item!==position&&(!after||position!==item-1)&&(after||position!==item+1)){$items.eq(item)[after?"insertAfter":"insertBefore"](items[position].el);var shiftStart=position>item?item:after?position:position-1,shiftEnd=item>position?item:after?position+1:position,shiftsUp=item>position;null!=rel.activeItem&&(item===rel.activeItem?last.active=rel.activeItem=after?shiftsUp?position+1:position:shiftsUp?position:position-1:rel.activeItem>shiftStart&&rel.activeItem<shiftEnd&&(last.active=rel.activeItem+=shiftsUp?1:-1)),load()}}function callbackIndex(name,fn){for(var i=0,l=callbacks[name].length;l>i;i++)if(callbacks[name][i]===fn)return i;return-1}function resetCycle(){dragging.released&&!self.isPaused&&self.resume()}function handleToSlidee(handlePos){return round(within(handlePos,hPos.start,hPos.end)/hPos.end*(pos.end-pos.start))+pos.start}function draggingHistoryTick(){dragging.history[0]=dragging.history[1],dragging.history[1]=dragging.history[2],dragging.history[2]=dragging.history[3],dragging.history[3]=dragging.delta}function continuousInit(source){dragging.released=0,dragging.source=source,dragging.slidee="slidee"===source}function dragInit(event){var isTouch="touchstart"===event.type,source=event.data.source,isSlidee="slidee"===source;dragging.init||!isTouch&&isInteractive(event.target)||("handle"!==source||o.dragHandle&&hPos.start!==hPos.end)&&(!isSlidee||(isTouch?o.touchDragging:o.mouseDragging&&event.which<2))&&(isTouch||stopDefault(event),continuousInit(source),dragging.init=0,dragging.$source=$(event.target),dragging.touch=isTouch,dragging.pointer=isTouch?event.originalEvent.touches[0]:event,dragging.initX=dragging.pointer.pageX,dragging.initY=dragging.pointer.pageY,dragging.initPos=isSlidee?pos.cur:hPos.cur,dragging.start=+new Date,dragging.time=0,dragging.path=0,dragging.delta=0,dragging.locked=0,dragging.history=[0,0,0,0],dragging.pathToLock=isSlidee?isTouch?30:10:0,$doc.on(isTouch?dragTouchEvents:dragMouseEvents,dragHandler),self.pause(1),(isSlidee?$slidee:$handle).addClass(o.draggedClass),trigger("moveStart"),isSlidee&&(historyID=setInterval(draggingHistoryTick,10)))}function dragHandler(event){if(dragging.released="mouseup"===event.type||"touchend"===event.type,dragging.pointer=dragging.touch?event.originalEvent[dragging.released?"changedTouches":"touches"][0]:event,dragging.pathX=dragging.pointer.pageX-dragging.initX,dragging.pathY=dragging.pointer.pageY-dragging.initY,dragging.path=sqrt(pow(dragging.pathX,2)+pow(dragging.pathY,2)),dragging.delta=o.horizontal?dragging.pathX:dragging.pathY,dragging.released||!(dragging.path<1)){if(!dragging.init){if(!(o.horizontal?abs(dragging.pathX)>abs(dragging.pathY):abs(dragging.pathX)<abs(dragging.pathY)))return dragEnd();dragging.init=1}stopDefault(event),!dragging.locked&&dragging.path>dragging.pathToLock&&dragging.slidee&&(dragging.locked=1,dragging.$source.on(clickEvent,disableOneEvent)),dragging.released&&(dragEnd(),o.releaseSwing&&dragging.slidee&&(dragging.swing=(dragging.delta-dragging.history[0])/40*300,dragging.delta+=dragging.swing,dragging.tweese=abs(dragging.swing)>10)),slideTo(dragging.slidee?round(dragging.initPos-dragging.delta):handleToSlidee(dragging.initPos+dragging.delta))}}function dragEnd(){clearInterval(historyID),dragging.released=!0,$doc.off(dragging.touch?dragTouchEvents:dragMouseEvents,dragHandler),(dragging.slidee?$slidee:$handle).removeClass(o.draggedClass),setTimeout(function(){dragging.$source.off(clickEvent,disableOneEvent)}),pos.cur===pos.dest&&dragging.init&&trigger("moveEnd"),self.resume(1),dragging.init=0}function isInteractive(element){return~$.inArray(element.nodeName,interactiveElements)||$(element).is(o.interactive)}function movementReleaseHandler(){self.stop(),$doc.off("mouseup",movementReleaseHandler)}function buttonsHandler(event){switch(stopDefault(event),this){case $forwardButton[0]:case $backwardButton[0]:self.moveBy($forwardButton.is(this)?o.moveBy:-o.moveBy),$doc.on("mouseup",movementReleaseHandler);break;case $prevButton[0]:self.prev();break;case $nextButton[0]:self.next();break;case $prevPageButton[0]:self.prevPage();break;case $nextPageButton[0]:self.nextPage()}}function normalizeWheelDelta(event){return scrolling.curDelta=(o.horizontal?event.deltaY||event.deltaX:event.deltaY)||-event.wheelDelta,scrolling.curDelta/=1===event.deltaMode?3:100,itemNav?(time=+new Date,scrolling.last<time-scrolling.resetTime&&(scrolling.delta=0),scrolling.last=time,scrolling.delta+=scrolling.curDelta,abs(scrolling.delta)<1?scrolling.finalDelta=0:(scrolling.finalDelta=round(scrolling.delta/1),scrolling.delta%=1),scrolling.finalDelta):scrolling.curDelta}function scrollHandler(event){event.originalEvent[namespace]=self;var time=+new Date;if(lastGlobalWheel+o.scrollHijack>time&&$scrollSource[0]!==document&&$scrollSource[0]!==window)return void(lastGlobalWheel=time);if(o.scrollBy&&pos.start!==pos.end){var delta=normalizeWheelDelta(event.originalEvent);(o.scrollTrap||delta>0&&pos.dest<pos.end||0>delta&&pos.dest>pos.start)&&stopDefault(event,1),self.slideBy(o.scrollBy*delta)}}function scrollbarHandler(event){o.clickBar&&event.target===$sb[0]&&(stopDefault(event),slideTo(handleToSlidee((o.horizontal?event.pageX-$sb.offset().left:event.pageY-$sb.offset().top)-handleSize/2)))}function keyboardHandler(event){if(o.keyboardNavBy)switch(event.which){case o.horizontal?37:38:stopDefault(event),self["pages"===o.keyboardNavBy?"prevPage":"prev"]();break;case o.horizontal?39:40:stopDefault(event),self["pages"===o.keyboardNavBy?"nextPage":"next"]()}}function activateHandler(event){return isInteractive(this)?void(event.originalEvent[namespace+"ignore"]=!0):void(this.parentNode!==$slidee[0]||event.originalEvent[namespace+"ignore"]||self.activate(this))}function activatePageHandler(){this.parentNode===$pb[0]&&self.activatePage($pages.index(this))}function pauseOnHoverHandler(event){o.pauseOnHover&&self["mouseenter"===event.type?"pause":"resume"](2)}function trigger(name,arg1){if(callbacks[name]){for(l=callbacks[name].length,tmpArray.length=0,i=0;l>i;i++)tmpArray.push(callbacks[name][i]);for(i=0;l>i;i++)tmpArray[i].call(self,name,arg1)}}var i,l,o=$.extend({},Sly.defaults,options),self=this,parallax=isNumber(frame),$frame=$(frame),$slidee=o.slidee?$(o.slidee).eq(0):$frame.children().eq(0),frameSize=0,slideeSize=0,pos={start:0,center:0,end:0,cur:0,dest:0},$sb=$(o.scrollBar).eq(0),$handle=$sb.children().eq(0),sbSize=0,handleSize=0,hPos={start:0,end:0,cur:0},$pb=$(o.pagesBar),$pages=0,pages=[],$items=0,items=[],rel={firstItem:0,lastItem:0,centerItem:0,activeItem:null,activePage:0},frameStyles=new StyleRestorer($frame[0]),slideeStyles=new StyleRestorer($slidee[0]),sbStyles=new StyleRestorer($sb[0]),handleStyles=new StyleRestorer($handle[0]),basicNav="basic"===o.itemNav,forceCenteredNav="forceCentered"===o.itemNav,centeredNav="centered"===o.itemNav||forceCenteredNav,itemNav=!parallax&&(basicNav||centeredNav||forceCenteredNav),$scrollSource=o.scrollSource?$(o.scrollSource):$frame,$dragSource=o.dragSource?$(o.dragSource):$frame,$forwardButton=$(o.forward),$backwardButton=$(o.backward),$prevButton=$(o.prev),$nextButton=$(o.next),$prevPageButton=$(o.prevPage),$nextPageButton=$(o.nextPage),callbacks={},last={},animation={},move={},dragging={released:1},scrolling={last:0,delta:0,resetTime:200},renderID=0,historyID=0,cycleID=0,continuousID=0;parallax||(frame=$frame[0]),self.initialized=0,self.frame=frame,self.slidee=$slidee[0],self.pos=pos,self.rel=rel,self.items=items,self.pages=pages,self.isPaused=0,self.options=o,self.dragging=dragging,self.reload=function(){load()},self.getPos=function(item){
if(itemNav){var index=getIndex(item);return-1!==index?items[index]:!1}var $item=$slidee.find(item).eq(0);if($item[0]){var offset=o.horizontal?$item.offset().left-$slidee.offset().left:$item.offset().top-$slidee.offset().top,size=$item[o.horizontal?"outerWidth":"outerHeight"]();return{start:offset,center:offset-frameSize/2+size/2,end:offset-frameSize+size,size:size}}return!1},self.moveBy=function(speed){move.speed=speed,!dragging.init&&move.speed&&pos.cur!==(move.speed>0?pos.end:pos.start)&&(move.lastTime=+new Date,move.startPos=pos.cur,continuousInit("button"),dragging.init=1,trigger("moveStart"),cAF(continuousID),moveLoop())},self.stop=function(){"button"===dragging.source&&(dragging.init=0,dragging.released=1)},self.prev=function(){self.activate(null==rel.activeItem?0:rel.activeItem-1)},self.next=function(){self.activate(null==rel.activeItem?0:rel.activeItem+1)},self.prevPage=function(){self.activatePage(rel.activePage-1)},self.nextPage=function(){self.activatePage(rel.activePage+1)},self.slideBy=function(delta,immediate){delta&&(itemNav?self[centeredNav?"toCenter":"toStart"](within((centeredNav?rel.centerItem:rel.firstItem)+o.scrollBy*delta,0,items.length)):slideTo(pos.dest+delta,immediate))},self.slideTo=function(pos,immediate){slideTo(pos,immediate)},self.toStart=function(item,immediate){to("start",item,immediate)},self.toEnd=function(item,immediate){to("end",item,immediate)},self.toCenter=function(item,immediate){to("center",item,immediate)},self.getIndex=getIndex,self.activate=function(item,immediate){var index=activate(item);o.smart&&index!==!1&&(centeredNav?self.toCenter(index,immediate):index>=rel.lastItem?self.toStart(index,immediate):index<=rel.firstItem?self.toEnd(index,immediate):resetCycle())},self.activatePage=function(index,immediate){isNumber(index)&&slideTo(pages[within(index,0,pages.length-1)],immediate)},self.resume=function(priority){o.cycleBy&&o.cycleInterval&&("items"!==o.cycleBy||items[0]&&null!=rel.activeItem)&&!(priority<self.isPaused)&&(self.isPaused=0,cycleID?cycleID=clearTimeout(cycleID):trigger("resume"),cycleID=setTimeout(function(){switch(trigger("cycle"),o.cycleBy){case"items":self.activate(rel.activeItem>=items.length-1?0:rel.activeItem+1);break;case"pages":self.activatePage(rel.activePage>=pages.length-1?0:rel.activePage+1)}},o.cycleInterval))},self.pause=function(priority){priority<self.isPaused||(self.isPaused=priority||100,cycleID&&(cycleID=clearTimeout(cycleID),trigger("pause")))},self.toggle=function(){self[cycleID?"pause":"resume"]()},self.set=function(name,value){$.isPlainObject(name)?$.extend(o,name):o.hasOwnProperty(name)&&(o[name]=value)},self.add=function(element,index){var $element=$(element);itemNav?(null==index||!items[0]||index>=items.length?$element.appendTo($slidee):items.length&&$element.insertBefore(items[index].el),null!=rel.activeItem&&index<=rel.activeItem&&(last.active=rel.activeItem+=$element.length)):$slidee.append($element),load()},self.remove=function(element){if(itemNav){var index=getRelativeIndex(element);if(index>-1){$items.eq(index).remove();var reactivate=index===rel.activeItem;null!=rel.activeItem&&index<rel.activeItem&&(last.active=--rel.activeItem),load(),reactivate&&(last.active=null,self.activate(rel.activeItem))}}else $(element).remove(),load()},self.moveAfter=function(item,position){moveItem(item,position,1)},self.moveBefore=function(item,position){moveItem(item,position)},self.on=function(name,fn){if("object"===type(name))for(var key in name)name.hasOwnProperty(key)&&self.on(key,name[key]);else if("function"===type(fn))for(var names=name.split(" "),n=0,nl=names.length;nl>n;n++)callbacks[names[n]]=callbacks[names[n]]||[],-1===callbackIndex(names[n],fn)&&callbacks[names[n]].push(fn);else if("array"===type(fn))for(var f=0,fl=fn.length;fl>f;f++)self.on(name,fn[f])},self.one=function(name,fn){function proxy(){fn.apply(self,arguments),self.off(name,proxy)}self.on(name,proxy)},self.off=function(name,fn){if(fn instanceof Array)for(var f=0,fl=fn.length;fl>f;f++)self.off(name,fn[f]);else for(var names=name.split(" "),n=0,nl=names.length;nl>n;n++)if(callbacks[names[n]]=callbacks[names[n]]||[],null==fn)callbacks[names[n]].length=0;else{var index=callbackIndex(names[n],fn);-1!==index&&callbacks[names[n]].splice(index,1)}},self.destroy=function(){return $scrollSource.add($handle).add($sb).add($pb).add($forwardButton).add($backwardButton).add($prevButton).add($nextButton).add($prevPageButton).add($nextPageButton).off("."+namespace),$doc.off("keydown",keyboardHandler),$prevButton.add($nextButton).add($prevPageButton).add($nextPageButton).removeClass(o.disabledClass),$items&&null!=rel.activeItem&&$items.eq(rel.activeItem).removeClass(o.activeClass),$pb.empty(),parallax||($frame.off("."+namespace),frameStyles.restore(),slideeStyles.restore(),sbStyles.restore(),handleStyles.restore(),$.removeData(frame,namespace)),items.length=pages.length=0,last={},self.initialized=0,self},self.init=function(){if(!self.initialized){self.on(callbackMap);var holderProps=["overflow","position"],movableProps=["position","webkitTransform","msTransform","transform","left","top","width","height"];frameStyles.save.apply(frameStyles,holderProps),sbStyles.save.apply(sbStyles,holderProps),slideeStyles.save.apply(slideeStyles,movableProps),handleStyles.save.apply(handleStyles,movableProps);var $movables=$handle;return parallax||($movables=$movables.add($slidee),$frame.css("overflow","hidden"),transform||"static"!==$frame.css("position")||$frame.css("position","relative")),transform?gpuAcceleration&&$movables.css(transform,gpuAcceleration):("static"===$sb.css("position")&&$sb.css("position","relative"),$movables.css({position:"absolute"})),o.forward&&$forwardButton.on(mouseDownEvent,buttonsHandler),o.backward&&$backwardButton.on(mouseDownEvent,buttonsHandler),o.prev&&$prevButton.on(clickEvent,buttonsHandler),o.next&&$nextButton.on(clickEvent,buttonsHandler),o.prevPage&&$prevPageButton.on(clickEvent,buttonsHandler),o.nextPage&&$nextPageButton.on(clickEvent,buttonsHandler),$scrollSource.on(wheelEvent,scrollHandler),$sb[0]&&$sb.on(clickEvent,scrollbarHandler),itemNav&&o.activateOn&&$frame.on(o.activateOn+"."+namespace,"*",activateHandler),$pb[0]&&o.activatePageOn&&$pb.on(o.activatePageOn+"."+namespace,"*",activatePageHandler),$dragSource.on(dragInitEvents,{source:"slidee"},dragInit),$handle&&$handle.on(dragInitEvents,{source:"handle"},dragInit),$doc.on("keydown",keyboardHandler),parallax||($frame.on("mouseenter."+namespace+" mouseleave."+namespace,pauseOnHoverHandler),$frame.on("scroll."+namespace,resetScroll)),self.initialized=1,load(!0),o.cycleBy&&!parallax&&self[o.startPaused?"pause":"resume"](),self}}}function type(value){return null==value?String(value):"object"==typeof value||"function"==typeof value?Object.prototype.toString.call(value).match(/\s([a-z]+)/i)[1].toLowerCase()||"object":typeof value}function stopDefault(event,noBubbles){event.preventDefault(),noBubbles&&event.stopPropagation()}function disableOneEvent(event){stopDefault(event,1),$(this).off(event.type,disableOneEvent)}function resetScroll(){this.scrollLeft=0,this.scrollTop=0}function isNumber(value){return!isNaN(parseFloat(value))&&isFinite(value)}function getPx($item,property){return 0|round(String($item.css(property)).replace(/[^\-0-9.]/g,""))}function within(number,min,max){return min>number?min:number>max?max:number}function StyleRestorer(element){var self={};return self.style={},self.save=function(){if(element&&element.nodeType){for(var i=0;i<arguments.length;i++)self.style[arguments[i]]=element.style[arguments[i]];return self}},self.restore=function(){if(element&&element.nodeType){for(var prop in self.style)self.style.hasOwnProperty(prop)&&(element.style[prop]=self.style[prop]);return self}},self}var transform,gpuAcceleration,time,pluginName="sly",className="Sly",namespace=pluginName,cAF=w.cancelAnimationFrame||w.cancelRequestAnimationFrame,rAF=w.requestAnimationFrame,$doc=$(document),dragInitEvents="touchstart."+namespace+" mousedown."+namespace,dragMouseEvents="mousemove."+namespace+" mouseup."+namespace,dragTouchEvents="touchmove."+namespace+" touchend."+namespace,wheelEvent=(document.implementation.hasFeature("Event.wheel","3.0")?"wheel.":"mousewheel.")+namespace,clickEvent="click."+namespace,mouseDownEvent="mousedown."+namespace,interactiveElements=["INPUT","SELECT","BUTTON","TEXTAREA"],tmpArray=[],abs=Math.abs,sqrt=Math.sqrt,pow=Math.pow,round=Math.round,max=Math.max,min=Math.min,lastGlobalWheel=0;$doc.on(wheelEvent,function(event){var sly=event.originalEvent[namespace],time=+new Date;(!sly||sly.options.scrollHijack<time-lastGlobalWheel)&&(lastGlobalWheel=time)}),function(w){function fallback(fn){var curr=(new Date).getTime(),ms=Math.max(0,16-(curr-prev)),req=setTimeout(fn,ms);return prev=curr,req}rAF=w.requestAnimationFrame||w.webkitRequestAnimationFrame||fallback;var prev=(new Date).getTime(),cancel=w.cancelAnimationFrame||w.webkitCancelAnimationFrame||w.clearTimeout;cAF=function(id){cancel.call(w,id)}}(window),function(){function testProp(prop){for(var p=0,pl=prefixes.length;pl>p;p++){var prefixedProp=prefixes[p]?prefixes[p]+prop.charAt(0).toUpperCase()+prop.slice(1):prop;if(null!=el.style[prefixedProp])return prefixedProp}}var prefixes=["","webkit","moz","ms","o"],el=document.createElement("div");transform=testProp("transform"),gpuAcceleration=testProp("perspective")?"translateZ(0) ":""}(),w[className]=Sly,$.fn[pluginName]=function(options,callbackMap){var method,methodArgs;return $.isPlainObject(options)||(("string"===type(options)||options===!1)&&(method=options===!1?"destroy":options,methodArgs=Array.prototype.slice.call(arguments,1)),options={}),this.each(function(i,element){var plugin=$.data(element,namespace);plugin||method?plugin&&method&&plugin[method]&&plugin[method].apply(plugin,methodArgs):plugin=$.data(element,namespace,new Sly(element,options,callbackMap).init())})},Sly.defaults={slidee:null,horizontal:!1,itemNav:null,itemSelector:null,smart:!1,activateOn:null,activateMiddle:!1,scrollSource:null,scrollBy:0,scrollHijack:300,scrollTrap:!1,dragSource:null,mouseDragging:!1,touchDragging:!1,releaseSwing:!1,swingSpeed:.2,elasticBounds:!1,interactive:null,scrollBar:null,dragHandle:!1,dynamicHandle:!1,minHandleSize:50,clickBar:!1,syncSpeed:.5,pagesBar:null,activatePageOn:null,pageBuilder:function(index){return"<li>"+(index+1)+"</li>"},forward:null,backward:null,prev:null,next:null,prevPage:null,nextPage:null,cycleBy:null,cycleInterval:5e3,pauseOnHover:!1,startPaused:!1,moveBy:300,speed:0,easing:"swing",startAt:null,keyboardNavBy:null,draggedClass:"dragged",activeClass:"active",disabledClass:"disabled"}}(jQuery,window),function(root,factory){"object"==typeof exports?module.exports=factory():"function"==typeof define&&define.amd?define(factory):root.Spinner=factory()}(this,function(){"use strict";function createEl(tag,prop){var n,el=document.createElement(tag||"div");for(n in prop)el[n]=prop[n];return el}function ins(parent){for(var i=1,n=arguments.length;n>i;i++)parent.appendChild(arguments[i]);return parent}function addAnimation(alpha,trail,i,lines){var name=["opacity",trail,~~(100*alpha),i,lines].join("-"),start=.01+i/lines*100,z=Math.max(1-(1-alpha)/trail*(100-start),alpha),prefix=useCssAnimations.substring(0,useCssAnimations.indexOf("Animation")).toLowerCase(),pre=prefix&&"-"+prefix+"-"||"";return animations[name]||(sheet.insertRule("@"+pre+"keyframes "+name+"{0%{opacity:"+z+"}"+start+"%{opacity:"+alpha+"}"+(start+.01)+"%{opacity:1}"+(start+trail)%100+"%{opacity:"+alpha+"}100%{opacity:"+z+"}}",sheet.cssRules.length),animations[name]=1),name}function vendor(el,prop){var pp,i,s=el.style;for(prop=prop.charAt(0).toUpperCase()+prop.slice(1),i=0;i<prefixes.length;i++)if(pp=prefixes[i]+prop,void 0!==s[pp])return pp;return void 0!==s[prop]?prop:void 0}function css(el,prop){for(var n in prop)el.style[vendor(el,n)||n]=prop[n];return el}function merge(obj){for(var i=1;i<arguments.length;i++){var def=arguments[i];for(var n in def)void 0===obj[n]&&(obj[n]=def[n])}return obj}function getColor(color,idx){return"string"==typeof color?color:color[idx%color.length]}function Spinner(o){this.opts=merge(o||{},Spinner.defaults,defaults)}function initVML(){function vml(tag,attr){return createEl("<"+tag+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',attr)}sheet.addRule(".spin-vml","behavior:url(#default#VML)"),Spinner.prototype.lines=function(el,o){function grp(){return css(vml("group",{coordsize:s+" "+s,coordorigin:-r+" "+-r}),{width:s,height:s})}function seg(i,dx,filter){ins(g,ins(css(grp(),{rotation:360/o.lines*i+"deg",left:~~dx}),ins(css(vml("roundrect",{arcsize:o.corners}),{width:r,height:o.scale*o.width,left:o.scale*o.radius,top:-o.scale*o.width>>1,filter:filter}),vml("fill",{color:getColor(o.color,i),opacity:o.opacity}),vml("stroke",{opacity:0}))))}var i,r=o.scale*(o.length+o.width),s=2*o.scale*r,margin=-(o.width+o.length)*o.scale*2+"px",g=css(grp(),{position:"absolute",top:margin,left:margin});if(o.shadow)for(i=1;i<=o.lines;i++)seg(i,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(i=1;i<=o.lines;i++)seg(i);return ins(el,g)},Spinner.prototype.opacity=function(el,i,val,o){var c=el.firstChild;o=o.shadow&&o.lines||0,c&&i+o<c.childNodes.length&&(c=c.childNodes[i+o],c=c&&c.firstChild,c=c&&c.firstChild,c&&(c.opacity=val))}}var useCssAnimations,sheet,prefixes=["webkit","Moz","ms","O"],animations={},defaults={lines:12,length:7,width:5,radius:10,scale:1,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};if(Spinner.defaults={},merge(Spinner.prototype,{spin:function(target){this.stop();var self=this,o=self.opts,el=self.el=css(createEl(0,{className:o.className}),{position:o.position,width:0,zIndex:o.zIndex});if(css(el,{left:o.left,top:o.top}),target&&target.insertBefore(el,target.firstChild||null),el.setAttribute("role","progressbar"),self.lines(el,self.opts),!useCssAnimations){var alpha,i=0,start=(o.lines-1)*(1-o.direction)/2,fps=o.fps,f=fps/o.speed,ostep=(1-o.opacity)/(f*o.trail/100),astep=f/o.lines;!function anim(){i++;for(var j=0;j<o.lines;j++)alpha=Math.max(1-(i+(o.lines-j)*astep)%f*ostep,o.opacity),self.opacity(el,j*o.direction+start,alpha,o);self.timeout=self.el&&setTimeout(anim,~~(1e3/fps))}()}return self},stop:function(){var el=this.el;return el&&(clearTimeout(this.timeout),el.parentNode&&el.parentNode.removeChild(el),this.el=void 0),this},lines:function(el,o){function fill(color,shadow){return css(createEl(),{position:"absolute",width:o.scale*(o.length+o.width)+"px",height:o.scale*o.width+"px",background:color,boxShadow:shadow,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*i+o.rotate)+"deg) translate("+o.scale*o.radius+"px,0)",borderRadius:(o.corners*o.scale*o.width>>1)+"px"})}for(var seg,i=0,start=(o.lines-1)*(1-o.direction)/2;i<o.lines;i++)seg=css(createEl(),{position:"absolute",top:1+~(o.scale*o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:useCssAnimations&&addAnimation(o.opacity,o.trail,start+i*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&ins(seg,css(fill("#000","0 0 4px #000"),{top:"2px"})),ins(el,ins(seg,fill(getColor(o.color,i),"0 0 1px rgba(0,0,0,.1)")));return el},opacity:function(el,i,val){i<el.childNodes.length&&(el.childNodes[i].style.opacity=val)}}),"undefined"!=typeof document){sheet=function(){var el=createEl("style",{type:"text/css"});return ins(document.getElementsByTagName("head")[0],el),el.sheet||el.styleSheet}();var probe=css(createEl("group"),{behavior:"url(#default#VML)"});!vendor(probe,"transform")&&probe.adj?initVML():useCssAnimations=vendor(probe,"animation")}return Spinner}),function($){1==$.browser.msie&&$.browser.version<="9.0",1==$.browser.mozilla&&$.browser.version<"30";Drupal.behaviors.matterhorn_header={attach:function(){$(".btn-forgot-password").click(function(e){e.preventDefault(),forgotPasswordWindow=window.open($(this).attr("href"),"forgotPasswordWindow","height=810,width=820,scrollbars=1")})}}}(jQuery),jQuery(document).ready(function(){function launchfancy(){var gameId=getCookie("gameId");jQuery("#"+gameId).trigger("click")}jQuery(document).on("click",".fancy-submit",function(){createCookie("launchGame","true")}),"true"===getCookie("launchGame")?jQuery(".login-error").length&&setTimeout(launchfancy,1):createCookie("launchGame","false")}),function($){Drupal.behaviors.casino={attach:function(){$(".grid-toggle").click(function(e){e.preventDefault(),$(this).toggleClass("show"),$("body").toggleClass("show-grid")}),$(".version-toggle").click(function(e){e.preventDefault(),$(this).toggleClass("show"),$(".version-number").slideToggle("fast")}),Drupal.clientsideValidation&&(Drupal.clientsideValidation.prototype.show_custom_error=function(error,element){var marker=get_marker(element,!1),errorText=error.text();enable_tooltips?(marker.attr("title",errorText),marker.tooltip({content:errorText,show:!1,hide:!1,position:{my:"left center",at:"right+10 center",collision:"none"},container:"body"})):marker.text(Drupal.t(errorText)),$(element).on("focus.error.tooltip",function(){$(marker).data("ui-tooltip")&&marker.tooltip("open")}).on("blur.error.tooltip",function(){$(marker).data("ui-tooltip")&&marker.tooltip("close")})})}},Drupal.inArray=function(needle,haystack,argStrict){var key="",strict=!!argStrict;if(strict){for(key in haystack)if(haystack[key]===needle)return!0}else for(key in haystack)if(haystack[key]==needle)return!0;return!1},$("a.popup").click(function(e){e.preventDefault(),livechatWindow=window.open($(this).attr("href"),"livechatWindow","height=810,width=820,scrollbars=1")}),$(document).ready(function(){setTimeout('jQuery("input#matterhorn-username").focus().blur()',100),setTimeout('jQuery("input#matterhorn-password").focus().blur()',100)}),$("textarea.form-textarea[maxlength]").on("keypress input paste",function(e){var text=$(this).val(),limit=$(this).attr("maxlength");text.length==limit&&$("html").hasClass("msie")===!0?e.preventDefault():text.length>limit&&$(this).val($("html").hasClass("msie")===!0?text.substr(0,limit-1):text.substr(0,limit))})}(jQuery),function($){var mobileHelpers={};mobileHelpers.cookieLifetime=7300,mobileHelpers.checkUserLogin=function(settings){var mobile_session_cookie=getCookie("mobile_session");void 0!==mobile_session_cookie&&(sessionStorage.setItem("mobile_session",mobile_session_cookie),createCookie("mobile_session","",-1));var mobile_session_storage=sessionStorage.getItem("mobile_session");settings.logged_in&&null===mobile_session_storage&&(window.location.href="/matterhorn/account/logout"),void 0!==getCookie("mobile_lang")&&getCookie("language")!=getCookie("mobile_lang")&&createCookie("mobile_lang",getCookie("language"),this.cookieLifetime)},Drupal.behaviors.casino={attach:function(context,settings){function pageContentHeight(){var navMenuElem=$(".nav"),wrapperElem=$(".wrapper"),navMenuHeight=navMenuElem.outerHeight();wrapperHeight=wrapperElem.outerHeight(),wrapperHeight<navMenuHeight&&wrapperElem.css("min-height",navMenuHeight)}function stickyGameTab(){var headerHeight=$(".header").outerHeight(!0),mainSliderHeight=$(".main-slider").outerHeight(!0),headerMainSliderHeight=headerHeight+mainSliderHeight;$(this).scrollTop()>headerMainSliderHeight?$(".view-games .view-header").addClass("sticky"):$(".view-games .view-header").removeClass("sticky")}function stickyHeader(){$(this).scrollTop()>1?$(".header").addClass("sticky"):$(".header").removeClass("sticky")}mobileHelpers.checkUserLogin(settings),deviceIdentifier.init();{var windowWidth=$(window).width();$(window).height()}settings.mobile_variables.mobile_private_browsing.private_browsing_flag&&mobileHelpers.privateBrowsing()&&($("body").html("").css({background:"white"}),setTimeout(function(){alert(settings.mobile_variables.mobile_private_browsing.private_browsing_message)},50)),document.addEventListener("touchstart",function(){},!0);var ua=navigator.userAgent,eventOnClick=ua.match(/iPad/i)?"touchend":"click",currentPath=window.location.pathname,mainSlider=$(".main-slider ul");mainSlider.bxSlider(mainSlider.children().length<2?{speed:500,pager:!1,touchEnabled:!1,swipeThreshold:50,oneToOneTouch:!1,preventDefaultSwipeX:!1,preventDefaultSwipeY:!1}:{speed:500,pager:!1}),$(".fancybox").fancybox({margin:0,padding:0,minHeight:"none",wrapCSS:"",closeBtn:!1,autoCenter:!0});var accountWidth=$(".account").outerWidth(),logoContainer=$(".header .logo span");if(accountWidth>90&&320>=windowWidth?logoContainer.css("margin-right","85px"):accountWidth>105&&windowWidth>=360&&logoContainer.css("margin-right","50px"),windowWidth>=768){var logoutMenuWidth=$("li.logout").outerWidth();$("li.setting").css("right",logoutMenuWidth)}$("select").wrap('<span class="select"></span>'),$(".navobile-link").menubile(),pageContentHeight(),$("#contactcountry").change(function(){(number=$(this).find("option:selected").val())&&(country=$(this).find("option+:selected").text(),$.fancybox("<div class='user-dial'>Users dialling from <br />"+country+"<br />must dial <a class='contact-number' href='tel:+"+number+"'>"+number+'</a></div><div align="center"><a href=\'tel:+'+number+'\'><input type="button" value="Call" class="btn"> </a></div>',{width:266,height:"auto",openEffect:"none",closeEffect:"none",scrolling:"no",speedIn:0,speedOut:0,changeSpeed:0,pixelRatio:2}))}),$("#edit-captcha-response")&&$("#edit-captcha-response").attr("placeholder",Drupal.t("Security Code")),$(".webform-contact-main").insertAfter(".node").find("h3").wrap('<div class="contact-container"></div>').parent("div").next("form").find("> div").addClass("contact-container");var loginButton=$("#account-login-submit");$(".login-error").length&&$("#remember-me").attr("checked",!1),loginButton.on("touchstart",function(){loginButton.click()});var opts={lines:13,length:20,width:10,radius:30,corners:1,rotate:0,direction:1,color:"#d7721f",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"50%",left:"50%"};loginButton.on("click",function(e){var loginForm=$("#account-login-form");if($("#matterhorn-username, #matterhorn-password").next("span").remove(),$("#remember-me").prop("checked")?createCookie("remember-me",1,mobileHelpers.cookieLifetime):createCookie("remember-me",0,mobileHelpers.cookieLifetime),loginForm.valid()){document.activeElement.blur(),loginForm.after('<div id="spinner-container"></div>');{var target=document.getElementById("spinner-container");new Spinner(opts).spin(target)}$(".spinner").after("<span>"+Drupal.t("loading...")+"</span>"),loginForm.hide(),e.preventDefault(),setTimeout(function(){loginForm.submit()},1e3)}});var accordionLink=$(".expanded > a"),accordionSubMenu=$(".expanded > ul");$("html").on(eventOnClick,function(){accordionSubMenu.hide(),$(".nav .menu").prev(".active-menu").removeClass("active-menu")}),$(".nav li").on(eventOnClick,function(e){e.stopPropagation()}),accordionLink.on("click",function(e){e.preventDefault();var $this=$(this),subMenu=$this.next("ul");siblingSubMenu=$this.parent("li").siblings("li.expanded").find("ul"),$this.toggleClass("active-menu").removeClass("in-active-menu").parent("li").siblings("li").find(".active-trail").removeClass("active-trail"),$this.hasClass("active-menu")||$this.toggleClass("in-active-menu"),subMenu.slideToggle(200),siblingSubMenu.slideUp(200).siblings("a").removeClass("active-menu")}),windowWidth>767&&$("li.promotion").hasClass("active-trail")&&($(".promotion ul a").on("click",function(){accordionSubMenu.slideUp(200)}),$(".promotion > a").on("click",function(){$(this).addClass("active-menu").removeClass("in-active-menu")})),$(".navobile-link").on("click",function(){setTimeout(function(){if(767>windowWidth&&$("li.expanded").hasClass("open-default")){var openDefaultItem=$(".open-default > a");openDefaultItem.attr("class","active-menu"),openDefaultItem.next("ul").show(),openDefaultItem.parent("li").siblings("li").find("a").removeClass("active-menu").next("ul").hide()}},50)}),$(".nav a").not(".expanded > a").on("click",function(){$(".menubile-nav-open").toggleClass("menubile-nav-open"),$(".menubile-content-close").toggleClass("menubile-content-close")}),$(".go-back").on("click",function(){window.history.back()});{var catListWidth=[],totalCatListWidth=0,categoryListElement=$(".games-category-menu ul");$(".container")}$(".games-category-menu li").each(function(){catListWidth.push($(this).outerWidth())}),$.each(catListWidth,function(){totalCatListWidth+=this}),categoryListElement.css("width",totalCatListWidth+2+"px"),$('.balance-option input[type="checkbox"]').ezMark({checkboxCls:"ez-checkbox-iphone",checkedCls:"ez-checked-iphone"}),$('.login-option input[type="checkbox"]').ezMark(),$(window).scroll(function(){var bodyElem=$("body");bodyElem.hasClass("page-featured-games")||bodyElem.hasClass("page-games-list")?stickyGameTab():stickyHeader()});var checkSettingsPage=currentPath.match(/mobile-settings/);null!==checkSettingsPage&&$("input[name=balance-visibility-settings]",context).on("click",function(){$(this).prop("checked")?createCookie("show-balance","1",mobileHelpers.cookieLifetime):createCookie("show-balance","0",mobileHelpers.cookieLifetime),window.location.reload()});var previousSlideWidth=[],totalPreviousSlidesWidth=0,activeSlide=$(".games-category-menu a.active").parent("li"),prevSlides=activeSlide.prevUntil($(this));prevSlides.each(function(){previousSlideWidth.push($(this).outerWidth())}),$.each(previousSlideWidth,function(){totalPreviousSlidesWidth+=this});var navSlide=new Sly(".games-category-menu",{slidee:$(".view-header .games-category-menu .menu"),horizontal:!0,mouseDragging:!0,touchDragging:!0,releaseSwing:!0,startAt:totalPreviousSlidesWidth-11});$(window).load(function(){navSlide.init(),navSlide.activate(1),navSlide.reload()}),window.addEventListener("resize",function(){navSlide.reload(),stickyGameTab(),$.fancybox.update(),pageContentHeight()},!1),$("ul.language-switcher-locale-url",context).on("click","a.language-link",function(){console.log($(this).parent("li").attr("class").split(" ")[0]),createCookie("language",$(this).parent("li").attr("class").split(" ")[0],mobileHelpers.cookieLifetime),createCookie("mobile_lang",$(this).parent("li").attr("class").split(" ")[0],mobileHelpers.cookieLifetime)})}},mobileHelpers.privateBrowsing=function(){var testKey="privateBrowsingTest",storage=window.sessionStorage;try{storage.setItem(testKey,"1"),storage.removeItem(testKey)}catch(error){return error.code===DOMException.QUOTA_EXCEEDED_ERR&&0===storage.length?!0:!1}return!1},mobileHelpers.cleanString=function(str){return str=$.trim(str),str.replace(/ /g,"-").toLowerCase()};var deviceIdentifier={testmode:!1,init:function(){"undefined"!=typeof navigator.userAgent&&this.identifyDevice()},deviceDictionary:{android:{"sm-g313hz":"galaxy-v","samsung-sm-g900f":"samsung-s5","gt-i9505":"samsung-s4"},macos:{}},identifyDevice:function(){var m,str=navigator.userAgent,re=/\((.*?)\)/;null!==(m=re.exec(str))&&m.index===re.lastIndex&&re.lastIndex++;var platform=m[1];switch(this.detectOS(platform)){case"android":"undefined"!=typeof this.deviceDictionary.android&&Object.keys(this.deviceDictionary.android).length>0&&this.deviceIDProcess(platform,this.deviceDictionary.android);break;case"macos":"undefined"!=typeof this.deviceDictionary.macos&&Object.keys(this.deviceDictionary.macos).length>0&&this.deviceIDProcess(platform,this.deviceDictionary.macos);break;case"windows":"undefined"!=typeof this.deviceDictionary.windows&&Object.keys(this.deviceDictionary.windows).length>0&&this.deviceIDProcess(platform,this.deviceDictionary.windows);break;case"blackberry":"undefined"!=typeof this.deviceDictionary.blackberry&&Object.keys(this.deviceDictionary.blackberry).length>0&&this.deviceIDProcess(platform,this.deviceDictionary.blackberry)}},detectOS:function(platformStr){return null!==platformStr.match(/Mac|Macintosh/)?"macos":null!==platformStr.match(/Windows/)?"windows":null!==platformStr.match(/Android|Linux/)?"android":null!==platformStr.match(/Blackberry|BB10|Playbook/)?"blackberry":!1},deviceIDProcess:function(platform,dictionary){platform=mobileHelpers.cleanString(platform);for(model in dictionary){var re=new RegExp("\\b"+model+"\\b");null!==platform.match(re)&&$("html").addClass(dictionary[model])}1==this.testmode&&console.log(platform)}}}(jQuery);